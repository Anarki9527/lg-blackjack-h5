window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({AutoReleaseAssets:[function(t,e,o){"use strict";cc._RF.push(e,"4f23a5XkTlMmb/eI8feNdoK","AutoReleaseAssets");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),cc.Component.prototype.addAutoReleaseAsset=function(t){var e=this.node.getComponent(u);cc.isValid(e)||(e=this.node.addComponent(u)),e.addAutoReleaseAsset(t)},cc.Component.prototype.addAutoReleaseAssets=function(t){var e=this.node.getComponent(u);cc.isValid(e)||(e=this.node.addComponent(u));for(var o=0,n=t;o<n.length;o++){var r=n[o];e.addAutoReleaseAsset(r)}};var a=cc._decorator,c=a.ccclass,s=a.menu,l=a.disallowMultiple,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dynamicsAssets=[],e}return r(e,t),e.prototype.addAutoReleaseAsset=function(t){cc.isValid(t)&&(t.addRef(),this.dynamicsAssets.push(t),console.log("\u5f53\u524d\u52a8\u6001\u8d44\u6e90\u957f\u5ea6=="+this.dynamicsAssets.length))},e.prototype.onDestroy=function(){for(var t=0;t<this.dynamicsAssets.length;t++)cc.isValid(this.dynamicsAssets[t])&&this.dynamicsAssets[t].decRef();this.dynamicsAssets=[]},i([c,s("\u8d44\u6e90\u7ba1\u7406/AutoReleaseAssets/\u81ea\u52a8\u91ca\u653e\u8d44\u6e90"),l],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],AwardLayer:[function(t,e,o){"use strict";cc._RF.push(e,"d5e1cdeqlJAJamaQFyHOTGv","AwardLayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Common/PopupBase"),c=t("./Common/UIUtils"),s=cc._decorator,l=s.ccclass,u=s.property,p=(s.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.amount=null,e.animationDuration=.3,e}return r(e,t),Object.defineProperty(e,"path",{get:function(){return"Scenes/Game/award_layer"},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.main||(this.main=this.node)},e.prototype.init=function(){var t=this;this.scheduleOnce(function(){t.hide()},2)},e.prototype.playShowAnimation=function(t){var e=this;return new Promise(function(o){var n=e.background,r=e.main;e.node.active=!0,n.active=!0,n.opacity=0,r.active=!0,r.scale=.5,r.opacity=0,cc.tween(n).to(.5*t,{opacity:150}).start(),cc.tween(r).to(t,{scale:1,opacity:255},{easing:"smooth"}).to(.1,{scale:.9,opacity:255},{easing:"smooth"}).to(.1,{scale:1,opacity:255},{easing:"smooth"}).call(o).start()})},e.prototype.updateDisplay=function(t){var e=this,o={num:0};this.amount.string=o.num,cc.tween(o).to(1,{num:t},{progress:function(t,o,n,r){var i=Math.ceil(t+(o-t)*r);return e.amount.string="\u20b9"+c.UIUtils.getShortNumber(i,!0),t+(o-t)*r}}).start()},i([u(cc.Label)],e.prototype,"amount",void 0),i([l],e)}(a.default));o.default=p,cc._RF.pop()},{"./Common/PopupBase":"PopupBase","./Common/UIUtils":"UIUtils"}],BetChip:[function(t,e,o){"use strict";cc._RF.push(e,"567c4AQwM9JxJXy5gJtMWf2","BetChip");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MobileKit/MKIndex"),c=t("../Business/Data/DataManager"),s=cc._decorator,l=s.ccclass,u=s.property,p=(s.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgBg=null,e.txtAmount=null,e.colorList=["#00095C","#EAEAEA","#FFFFFF","#FFFFFF","#FFFFFF","#0A0A09"],e.chipIdx=null,e}return r(e,t),e.prototype.onLoad=function(){a.noticeCenter.registAllNotice(this)},e.prototype.setBetSum=function(t){this.node.opacity=0==t?0:255;for(var e=0,o=c.default.homeData.getChipLst(),n=0;n<o.length;n++){var r=o[n],i=o[n+1];n==o.length-1?r<=t&&(e=n):r<=t&&t<i&&(e=n)}this.txtAmount.string=(t/c.default.homeData.getChipsUnit()).toString(),this.txtAmount.node.color=(new cc.Color).fromHEX(this.colorList[e]),this.imgBg.spriteFrame=cc.resources.get("Texture/Game/Chips/chip_normal"+e,cc.SpriteFrame)},i([u(cc.Sprite)],e.prototype,"imgBg",void 0),i([u(cc.Label)],e.prototype,"txtAmount",void 0),i([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Business/Data/DataManager":"DataManager","../MobileKit/MKIndex":"MKIndex"}],ClickSoundComponent:[function(t,e,o){"use strict";cc._RF.push(e,"00bf4ztalhNVoWG4SmO7AfR","ClickSoundComponent");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MKIndex"),c=t("../../Business/Data/CommonDefine"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchNode,this)},e.prototype.onDestroy=function(){},e.prototype.onTouchNode=function(){0==this.node.getComponent(cc.Button).interactable?a.AudioEngine.playEffect(c.SoundList.BtnWrong):a.AudioEngine.playEffect(c.SoundList.Click)},i([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../Business/Data/CommonDefine":"CommonDefine","../MKIndex":"MKIndex"}],CommonDefine:[function(t,e,o){"use strict";cc._RF.push(e,"9efc0rsiaVG/piSLAHE8XaR","CommonDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.RecordData=o.SpriteList=o.SoundList=o.PrefabList=o.LangList=o.GameStage=o.SceneType=o.UserType=o.PlayerType=void 0,function(t){t[t.Dealer=0]="Dealer",t[t.Player=1]="Player"}(o.PlayerType||(o.PlayerType={})),function(t){t[t.Guest=1]="Guest",t[t.Account=2]="Account"}(o.UserType||(o.UserType={})),function(t){t[t.Loading=0]="Loading",t[t.Game=1]="Game"}(o.SceneType||(o.SceneType={})),function(t){t[t.Bet=0]="Bet",t[t.Play=1]="Play",t[t.Finish=2]="Finish"}(o.GameStage||(o.GameStage={})),function(t){t[t.en=0]="en",t[t.hi=1]="hi"}(o.LangList||(o.LangList={}));var n=function(){function t(){}return t.AwardLayer="Scenes/Game/award_layer",t.MenuLayer="Scenes/Game/menu_layer",t.HelpLayer="Scenes/Game/help_layer",t.GameRecordLayer="Scenes/Game/game_record_layer",t.BetChip="Scenes/Game/betChip",t.RecordDateCell="Scenes/Game/RecordDateCell",t.RecordTimeCell="Scenes/Game/RecordTimeCell",t.PokerNode="Scenes/Game/PokerNode",t}();o.PrefabList=n;var r=function(){function t(){}return t.Bgm="Sound/bgm_hall",t.Click="Sound/click",t.BtnWrong="Sound/btn_wrong",t.Chip="Sound/chip",t.Shine="Sound/shine",t.Alarm="Sound/alarm",t}();o.SoundList=r;o.SpriteList=function(){};o.RecordData=function(){},cc._RF.pop()},{}],ConfigManager:[function(t,e,o){"use strict";cc._RF.push(e,"61ecdS7zDhJaIyXsWMOoGLM","ConfigManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.setUrlConfig=function(e){t.urlConfig=e},t.setAppInfo=function(e){t.appInfo=e},t.urlConfig=null,t.appInfo=null,t}();o.default=n,cc._RF.pop()},{}],DataManager:[function(t,e,o){"use strict";cc._RF.push(e,"bb44c7d08JNtpYy1h8nVOKI","DataManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./UserData"),r=t("./HomeData"),i=t("./GameData"),a=function(){function t(){}return t.init=function(){t.userData=new n.default,t.homeData=new r.HomeData,t.gameData=new i.default},t}();o.default=a,cc._RF.pop()},{"./GameData":"GameData","./HomeData":"HomeData","./UserData":"UserData"}],GameAction:[function(t,e,o){"use strict";cc._RF.push(e,"56b60ZYeWNH47h6Dw7SoUyu","GameAction");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MobileKit/MKIndex"),c=t("../Business/Data/DataManager"),s=t("../Business/Data/CommonDefine"),l=t("./BetChip"),u=t("../Business/Logic/GameNotice"),p=t("./Common/UIUtils"),d=t("../Business/Logic/GameController"),f=t("./Common/PrefabPool"),h=t("./PokerNode"),m=t("../Business/Logic/GameController"),g=t("../Business/Data/PokerData"),y=cc._decorator,C=y.ccclass,_=y.property,v=(y.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerNode=null,e.betChipsNode=null,e.txtDealerPoint=null,e.btnClear=null,e.btnDeal=null,e.btnStand=null,e.btnSplit=null,e.btnDouble=null,e.btnHit=null,e.chipPlaceNode=null,e.dealerChipPlaceNode=null,e.dealStartNode=null,e.dealPathNode=null,e.cardBackNode=null,e.dealerCardNode=null,e.playerCardNode=null,e.splitCardNodeLeft=null,e.splitCardNodeRight=null,e.splitChipPlaceNodeLeft=null,e.splitChipPlaceNodeRight=null,e.splitMaskLeft=null,e.splitMaskRight=null,e.resetCardNode=null,e.btnChipList=[],e.btnChipSpList=[],e.btnChipLbList=[],e.chipColorList=["#00095C","#EAEAEA","#FFFFFF","#FFFFFF","#FFFFFF","#0A0A09"],e.betChip=null,e.dealerChip=null,e.dealerCardList=[],e.playerCardList=[],e.splitChipLeft=null,e.splitChipRight=null,e.splitCardListLeft=[],e.splitCardListRight=[],e.cardWidth=0,e.cardGap=0,e}return r(e,t),e.prototype.onLoad=function(){a.noticeCenter.registAllNotice(this),this.initUi(),this.selectChip(c.default.userData.getSelectChip()),this.updateSelectChip(),this.resetGameStage()},e.prototype.initUi=function(){var t=this;this.btnClear.node.on("click",this.onTouchClear,this),this.btnDeal.node.on("click",this.onTouchDeal,this),this.btnStand.node.on("click",this.onTouchStand,this),this.btnSplit.node.on("click",this.onTouchSplit,this),this.btnDouble.node.on("click",this.onTouchDouble,this),this.btnHit.node.on("click",this.onTouchHit,this),this.chipPlaceNode.on(cc.Node.EventType.TOUCH_END,this.onTouchBet,this);var e=f.default.get(s.PrefabList.PokerNode);this.cardWidth=e.width,this.cardGap=.4*this.cardWidth,f.default.put(e),this.betChipsNode.children.forEach(function(e){var o=e.getComponent(cc.Button);t.btnChipList.push(o)});var o=c.default.homeData.getChipLst();this.btnChipList.forEach(function(e,n){var r=e.target.getComponent(cc.Sprite);t.btnChipSpList.push(r),r.spriteFrame=cc.resources.get("Texture/Game/Chips/chip_normal"+n,cc.SpriteFrame);var i=e.getComponentInChildren(cc.Label);t.btnChipLbList.push(i),i.string=(o[n]/c.default.homeData.getChipsUnit()).toString()});var n=f.default.get(s.PrefabList.BetChip).getComponent(l.default);n.node.setParent(this.chipPlaceNode),n.setBetSum(0),this.betChip=n;var r=f.default.get(s.PrefabList.BetChip).getComponent(l.default);r.node.setParent(this.dealerChipPlaceNode),r.setBetSum(0),this.dealerChip=r;var i=f.default.get(s.PrefabList.BetChip).getComponent(l.default);i.node.setParent(this.splitChipPlaceNodeLeft),i.setBetSum(0),this.splitChipLeft=i;var a=f.default.get(s.PrefabList.BetChip).getComponent(l.default);a.node.setParent(this.splitChipPlaceNodeRight),a.setBetSum(0),this.splitChipRight=a},e.prototype.resetGameStage=function(){this.updateDealerPoint(),this.updateBetBtnState(),this.updateBetChip()},e.prototype.resetPoker=function(){var t=this,e=function(e){var o=p.UIUtils.posTransform(e.node,t.cardBackNode);cc.tween(e.node).call(function(){p.UIUtils.flipToBack(e.node,.25,function(){e.setPoker(-1)})}).to(.25,{position:o},{easing:"smooth"}).delay(.25).call(function(){f.default.put(e.node)}).start()},o=cc.tween(this.node);this.dealerCardList.forEach(function(t){o.call(function(){e(t)}).delay(.05)}),this.playerCardList.forEach(function(t){o.call(function(){e(t)}).delay(.05)}),this.splitCardListLeft.forEach(function(n){p.UIUtils.nodeToNewParent(n.node,t.resetCardNode),o.call(function(){e(n)}).delay(.05)}),this.splitCardListRight.forEach(function(n){p.UIUtils.nodeToNewParent(n.node,t.resetCardNode),o.call(function(){e(n)}).delay(.05)}),o.call(function(){t.setSplitMaskLeft(!1),t.setSplitMaskRight(!1)}),o.delay(.5).start(),this.dealerCardList=[],this.playerCardList=[],this.splitCardListLeft=[],this.splitCardListRight=[]},e.prototype.onTouchSelectChip=function(t,e){e!=c.default.userData.getSelectChip()&&this.selectChip(e)},e.prototype.onTouchClear=function(){var t=c.default.userData,e=t.getBetSum(),o=t.getBalance()+e;t.setBalance(o),t.setBetSum(0),a.noticeCenter.emit(new u.NtcUpdateChip),this.updateBetChip(),this.updateBetBtnState()},e.prototype.onTouchDeal=function(){c.default.gameData.getGameStage()==s.GameStage.Bet&&(a.commandCenter.emit(new m.CmdDeal),this.setBetBtnState(!1))},e.prototype.onTouchStand=function(){c.default.gameData.getGameStage()==s.GameStage.Play&&(this.setPlayBtnState(!1),a.commandCenter.emit(new d.CmdStand))},e.prototype.onTouchSplit=function(){if(c.default.gameData.getGameStage()==s.GameStage.Play){var t=c.default.userData;t.getBalance()<t.getBetSum()||(this.setPlayBtnState(!1),a.commandCenter.emit(new d.CmdSplit))}},e.prototype.onTouchDouble=function(){if(c.default.gameData.getGameStage()==s.GameStage.Play){var t=c.default.userData;t.getBalance()<t.getBetSum()||(this.setPlayBtnState(!1),a.commandCenter.emit(new d.CmdDouble))}},e.prototype.onTouchHit=function(){c.default.gameData.getGameStage()==s.GameStage.Play&&(this.setPlayBtnState(!1),a.commandCenter.emit(new d.CmdHit))},e.prototype.onTouchBet=function(){if(c.default.gameData.getGameStage()==s.GameStage.Bet){var t=c.default.userData,e=t.getBalance(),o=t.getSelectChipVal();if(!(e<o)){var n=c.default.gameData.getPlaceMaxBet(),r=t.getBetSum();if(r!=n){r+o>n?r=n:r+=o;var i=a.AudioEngine.playEffect(s.SoundList.Chip);a.AudioEngine.setAudioVolume(i,1);var l=t.getBetSum()+t.getSelectChipVal();this.betChip.setBetSum(l),t.setBetSum(l),this.betChip.node.position=new cc.Vec3(0,0);var p=e-t.getSelectChipVal();t.setBalance(p),a.noticeCenter.emit(new u.NtcUpdateChip),this.updateBetBtnState()}}}},e.prototype.selectChip=function(t){c.default.userData.setSelectChip(t),this.updateSelectChip()},e.prototype.updateSelectChip=function(){var t=this,e=c.default.homeData.getChipLst(),o=c.default.userData.getSelectChip(),n=c.default.userData.getBalance();n<c.default.userData.getSelectChipVal()&&0!=o&&this.selectChip(o-1),e.forEach(function(e,o){t.btnChipSpList[o].node.scale=1,n<e?(t.btnChipSpList[o].spriteFrame=cc.resources.get("Texture/Game/Chips/chip_dis",cc.SpriteFrame),t.btnChipList[o].interactable=!1,t.btnChipLbList[o].node.color=(new cc.Color).fromHEX("#666666")):(t.btnChipList[o].interactable=!0,t.btnChipLbList[o].node.color=(new cc.Color).fromHEX(t.chipColorList[o]),o!=c.default.userData.getSelectChip()?t.btnChipSpList[o].spriteFrame=cc.resources.get("Texture/Game/Chips/chip_normal"+o,cc.SpriteFrame):(t.btnChipSpList[o].spriteFrame=cc.resources.get("Texture/Game/Chips/chip_select"+o,cc.SpriteFrame),t.btnChipSpList[o].node.scale=1.1615))})},e.prototype.updateBetBtnState=function(){c.default.userData.getBetSum()>0?(this.btnClear.interactable=!0,this.btnDeal.interactable=!0):(this.btnClear.interactable=!1,this.btnDeal.interactable=!1)},e.prototype.updateBetChip=function(){var t=c.default.userData;0==c.default.userData.getActiveCardsIdx()?this.betChip.setBetSum(t.getBetSum()):(this.splitChipLeft.setBetSum(t.getSplitLeftData().getBetSum()),this.splitChipRight.setBetSum(t.getSplitRightData().getBetSum()))},e.prototype.playerWin=function(t){var e,o=this;this.dealerChip.node.setPosition(0,0),this.dealerChip.setBetSum(t);var n=c.default.userData.getActiveCardsIdx();0==n?e=this.betChip.node:1==n?e=this.splitChipLeft.node:2==n&&(e=this.splitChipRight.node);var r=p.UIUtils.posTransform(this.dealerChip.node,e),i=a.Utils.randRange(30,70),s=a.Utils.randRange(-30,30),l=p.UIUtils.posTransform(this.dealerChip.node,this.playerNode),u=p.UIUtils.posTransform(e,this.playerNode);cc.tween(this.node).call(function(){cc.tween(o.dealerChip.node).to(.5,{x:r.x+i,y:r.y+s},{easing:"smooth"}).to(.5,{x:l.x,y:l.y},{easing:"smooth"}).start()}).delay(.5).call(function(){cc.tween(e).to(.5,{x:u.x,y:u.y},{easing:"smooth"}).start()}).start()},e.prototype.playerLose=function(){var t,e=c.default.userData.getActiveCardsIdx();0==e?t=this.betChip.node:1==e?t=this.splitChipLeft.node:2==e&&(t=this.splitChipRight.node);var o=p.UIUtils.posTransform(t,this.dealerChipPlaceNode);cc.tween(t).to(1,{x:o.x,y:o.y},{easing:"smooth"}).start()},e.prototype.setBetBtnState=function(t){this.btnClear.node.active=t,this.btnClear.interactable=t,this.btnDeal.node.active=t,this.btnDeal.interactable=t,this.updateBetBtnState()},e.prototype.setPlayBtnState=function(t){if(this.btnStand.node.active=t,this.btnStand.interactable=t,this.btnSplit.node.active=t,this.btnSplit.interactable=t,this.btnDouble.node.active=t,this.btnDouble.interactable=t,this.btnHit.node.active=t,this.btnHit.interactable=t,t){var e=c.default.userData;e.isCanSplit()||(this.btnSplit.node.active=!1,this.btnSplit.interactable=!1),e.isCanDouble()||(this.btnDouble.node.active=!1,this.btnDouble.interactable=!1),e.getBalance()<e.getBetSum()&&(this.btnSplit.interactable=!1,this.btnDouble.interactable=!1)}},e.prototype.setSplitMaskLeft=function(t){t?(this.splitMaskLeft.active=!0,this.splitMaskLeft.setPosition(new cc.Vec2(this.splitCardNodeLeft.x-this.cardWidth/2,this.splitCardNodeLeft.y)),this.splitMaskLeft.width=this.cardWidth+this.cardGap*(this.splitCardNodeLeft.childrenCount-1)):this.splitMaskLeft.active=!1},e.prototype.setSplitMaskRight=function(t){t?(this.splitMaskRight.active=!0,this.splitMaskRight.setPosition(new cc.Vec2(this.splitCardNodeRight.x-this.cardWidth/2,this.splitCardNodeRight.y)),this.splitMaskRight.width=this.cardWidth+this.cardGap*(this.splitCardNodeRight.childrenCount-1)):this.splitMaskRight.active=!1},e.prototype.updateDealerPoint=function(){var t="",e=c.default.gameData,o=e.getDealerCardList();if(c.default.userData.isStand()){var n=0,r=0;o.forEach(function(t){if(g.PokerData.getPokerPoint(t)==g.PokerPoint.PointA&&0==r)r+=1;else{var e=g.PokerData.getPokerPoint(t);e>g.PokerPoint.Point10&&(e=9),n+=e+1}});var i=n,a=e.getDealerPoint();n<10&&(i+=1*r);var l="";r>0&&21!=a&&i<11&&c.default.gameData.getGameStage()!=s.GameStage.Finish&&(l=i+"/"),t=l+a.toString()}else t=g.PokerData.getPokerPoint(o[0])==g.PokerPoint.PointA?"1/11":e.getDealerPoint().toString();this.txtDealerPoint.string=t},e.prototype.dealCard=function(t,e,o){var n=null,r=f.default.get(s.PrefabList.PokerNode),i=r.getComponent(h.default);if(t==s.PlayerType.Dealer)n=this.dealerCardNode,this.dealerCardList.push(i);else{var a=c.default.userData;0==a.getActiveCardsIdx()?(n=this.playerCardNode,this.playerCardList.push(i)):1==a.getActiveCardsIdx()?(n=this.splitCardNodeLeft,this.splitCardListLeft.push(i)):2==a.getActiveCardsIdx()&&(n=this.splitCardNodeRight,this.splitCardListRight.push(i))}r.setParent(n),r.setPosition(p.UIUtils.posTransform(r,this.dealStartNode)),r.eulerAngles=new cc.Vec3(0,0,60),i.setPoker(-1);var l=p.UIUtils.posTransform(r,this.dealPathNode),u=.4*r.width,d=new cc.Vec3(0+u*(n.childrenCount-1),0,0),m=cc.tween(r).to(.25,{position:l},{easing:"smooth"}).to(.5/3,{position:d,eulerAngles:cc.v3(0,0,0)},{easing:"smooth"});e>-1&&m.call(function(){r.eulerAngles=new cc.Vec3(0,-180,0),p.UIUtils.flipToFront(r,.5,function(){i.setPoker(e)})}),m.delay(.25).call(function(){o&&o()}).start()},e.prototype.startDealCard=function(t,e,o,n){var r=this,i=c.default.userData.getPlayerCardList(),a=c.default.gameData.getDealerCardList();cc.tween(this.node).call(function(){r.dealCard(s.PlayerType.Player,t[0],function(){i.push(t[0]),o()})}).delay(.5).call(function(){r.dealCard(s.PlayerType.Dealer,e[0],function(){a.push(e[0]),r.updateDealerPoint()})}).delay(.5).call(function(){r.dealCard(s.PlayerType.Player,t[1],function(){i.push(t[1]),o()})}).delay(.5).call(function(){r.dealCard(s.PlayerType.Dealer,-1)}).delay(.5).call(function(){n()}).start()},e.prototype.onNtcDeal=function(){},e.prototype.onNtcDouble=function(){this.updateBetChip()},e.prototype.onNtcSplit=function(){var t=c.default.userData;this.splitChipLeft.setBetSum(t.getSplitLeftData().getBetSum()),this.splitChipRight.setBetSum(t.getSplitRightData().getBetSum()),this.splitChipLeft.node.position=new cc.Vec3(0,0),this.splitChipRight.node.position=new cc.Vec3(0,0)},i([_(cc.Node)],e.prototype,"playerNode",void 0),i([_(cc.Node)],e.prototype,"betChipsNode",void 0),i([_(cc.Label)],e.prototype,"txtDealerPoint",void 0),i([_(cc.Button)],e.prototype,"btnClear",void 0),i([_(cc.Button)],e.prototype,"btnDeal",void 0),i([_(cc.Button)],e.prototype,"btnStand",void 0),i([_(cc.Button)],e.prototype,"btnSplit",void 0),i([_(cc.Button)],e.prototype,"btnDouble",void 0),i([_(cc.Button)],e.prototype,"btnHit",void 0),i([_(cc.Node)],e.prototype,"chipPlaceNode",void 0),i([_(cc.Node)],e.prototype,"dealerChipPlaceNode",void 0),i([_(cc.Node)],e.prototype,"dealStartNode",void 0),i([_(cc.Node)],e.prototype,"dealPathNode",void 0),i([_(cc.Node)],e.prototype,"cardBackNode",void 0),i([_(cc.Node)],e.prototype,"dealerCardNode",void 0),i([_(cc.Node)],e.prototype,"playerCardNode",void 0),i([_(cc.Node)],e.prototype,"splitCardNodeLeft",void 0),i([_(cc.Node)],e.prototype,"splitCardNodeRight",void 0),i([_(cc.Node)],e.prototype,"splitChipPlaceNodeLeft",void 0),i([_(cc.Node)],e.prototype,"splitChipPlaceNodeRight",void 0),i([_(cc.Node)],e.prototype,"splitMaskLeft",void 0),i([_(cc.Node)],e.prototype,"splitMaskRight",void 0),i([_(cc.Node)],e.prototype,"resetCardNode",void 0),i([a.onNotice(u.NtcDeal)],e.prototype,"onNtcDeal",null),i([a.onNotice(u.NtcDouble)],e.prototype,"onNtcDouble",null),i([a.onNotice(u.NtcSplit)],e.prototype,"onNtcSplit",null),i([C],e)}(cc.Component));o.default=v,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../Business/Data/PokerData":"PokerData","../Business/Logic/GameController":"GameController","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./BetChip":"BetChip","./Common/PrefabPool":"PrefabPool","./Common/UIUtils":"UIUtils","./PokerNode":"PokerNode"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"b33e4rPpodINYZCfe4x62BN","GameController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameController=o.CmdSplit=o.CmdDouble=o.CmdStand=o.CmdHit=o.CmdDeal=void 0;var a=t("../../MobileKit/MKIndex"),c=t("../../Business/Data/ConfigManager"),s=t("../../Business/Data/DataManager"),l=t("../../Business/Data/CommonDefine"),u=t("./GameNotice"),p=t("../NetWork/NetworkManager"),d=t("../Data/PokerData"),f=function(){function t(){}return i([a.createCommand],t)}();o.CmdDeal=f;var h=function(){function t(){}return i([a.createCommand],t)}();o.CmdHit=h;var m=function(){function t(){}return i([a.createCommand],t)}();o.CmdStand=m;var g=function(){function t(){}return i([a.createCommand],t)}();o.CmdDouble=g;var y=function(){function t(){}return i([a.createCommand],t)}();o.CmdSplit=y;var C=function(t){var e=0,o=0;return t.forEach(function(t){if(d.PokerData.getPokerPoint(t)==d.PokerPoint.PointA&&0==o)o+=1;else{var n=d.PokerData.getPokerPoint(t);n>d.PokerPoint.Point10&&(n=9),e+=n+1}}),e+=e>10?1*o:11*o},_=function(t){function e(){var e=t.call(this)||this;return e.m_socket=null,e.setName("GameController"),a.noticeCenter.registAllNotice(e),a.commandCenter.registAllCommand(e),e.m_socket=p.default.getInstance().getCommonSocket(),e.m_socket.registAllMsg(e),e}return r(e,t),e.prototype.onExit=function(){a.noticeCenter.targetOff(this),a.commandCenter.targetOff(this)},e.prototype.onNtcTestStart=function(){},e.prototype.onCmdDeal=function(){c.default.urlConfig.base;var t={};t.betSum=s.default.userData.getBetSum(),cc.log("deal params = "+JSON.stringify(t));var e={code:200};e.dealerCards=[a.Utils.randRange(0,51)],e.playerCards=[a.Utils.randRange(0,51),a.Utils.randRange(0,51)];var o=C(e.playerCards);if(e.nextDealerCards=[],21==o)for(var n=e.dealerCards;C(n)<17;){var r=a.Utils.randRange(0,51);e.nextDealerCards.push(r),n.push(r)}this.onNetDeal(!0,e)},e.prototype.onNetDeal=function(t,e){if(t&&(cc.log("deal result = "+JSON.stringify(e)),200==e.code)){s.default.gameData.setGameStage(l.GameStage.Play);var o=new u.NtcDeal;o.dealerCards=e.dealerCards,o.playerCards=e.playerCards,o.nextDealerCards=e.nextDealerCards.length>0?e.nextDealerCards:[],a.noticeCenter.emit(o)}},e.prototype.onCmdHit=function(){c.default.urlConfig.base;var t={};0!=s.default.userData.getActiveCardsIdx()&&(t.active=s.default.userData.getActiveCardsIdx()),cc.log("hit params = "+JSON.stringify(t));var e={code:200};e.card=a.Utils.randRange(0,51),e.nextDealerCards=[];var o=s.default.userData.getActiveCardData().getCardList().slice(0);o.push(e.card);var n=C(o),r=!1;if(21==n){var i=s.default.gameData.getDealerCardList().slice(0);for(r=!0;C(i)<17;){var l=a.Utils.randRange(0,51);e.nextDealerCards.push(l),i.push(l)}}else if(n>21){if(l=a.Utils.randRange(0,51),e.nextDealerCards.push(l),2==s.default.userData.getActiveCardsIdx()){var u=[];for((u=s.default.gameData.getDealerCardList().slice(0)).push(l);C(u)<17;){var p=a.Utils.randRange(0,51);u.push(p),e.nextDealerCards.push(p)}}r=!0}1==s.default.userData.getActiveCardsIdx()&&(r?e.rightCard=a.Utils.randRange(0,51):e.nextDealerCards=[]),this.onNetHit(!0,e)},e.prototype.onNetHit=function(t,e){if(t&&(cc.log("hit result = "+JSON.stringify(e)),200==e.code)){s.default.userData.getActiveCardData().getCardList().push(e.card);var o=new u.NtcHit;o.card=e.card,o.nextDealerCards=e.nextDealerCards.length>0?e.nextDealerCards:[],o.rightCard=null!=e.rightCard?e.rightCard:-1,a.noticeCenter.emit(o)}},e.prototype.onCmdStand=function(){c.default.urlConfig.base;var t={};0!=s.default.userData.getActiveCardsIdx()&&(t.active=s.default.userData.getActiveCardsIdx()),cc.log("stand params = "+JSON.stringify(t));for(var e={code:200,nextDealerCards:[]},o=s.default.gameData.getDealerCardList().slice(0);C(o)<17;)a.Utils.randRange(0,51),e.nextDealerCards.push(7),o.push(7);if(1==s.default.userData.getActiveCardsIdx()){e.rightCard=a.Utils.randRange(0,51);var n=[s.default.userData.getSplitRightData().getCardList()[0]];n.push(e.rightCard),21==C(n)||(e.nextDealerCards=[])}this.onNetStand(!0,e)},e.prototype.onNetStand=function(t,e){if(t&&(cc.log("stand result = "+JSON.stringify(e)),200==e.code)){var o=new u.NtcStand;o.dealerCards=e.nextDealerCards,o.nextCard=e.rightCard,a.noticeCenter.emit(o)}},e.prototype.onCmdDouble=function(){c.default.urlConfig.base,cc.log("double params = "+JSON.stringify({}));var t={code:200};t.card=a.Utils.randRange(0,51),t.betAmount=2*s.default.userData.getActiveCardData().getBetSum(),t.balance=s.default.userData.getBalance()-s.default.userData.getActiveCardData().getBetSum(),t.nextDealerCards=[];var e=s.default.userData.getActiveCardData().getCardList().slice(0);if(e.push(t.card),C(e)>21){var o=a.Utils.randRange(0,51);t.nextDealerCards.push(o)}else for(var n=s.default.gameData.getDealerCardList().slice(0);C(n)<17;)o=a.Utils.randRange(0,51),t.nextDealerCards.push(o),n.push(o);if(1==s.default.userData.getActiveCardsIdx()){t.rightCard=a.Utils.randRange(0,51);var r=[s.default.userData.getSplitRightData().getCardList()[0]];if(r.push(t.rightCard),21==C(r))for(var i=s.default.gameData.getDealerCardList().slice(0);C(i)<17;)o=a.Utils.randRange(0,51),t.nextDealerCards.push(o),i.push(o);else t.nextDealerCards=[]}this.onNetDouble(!0,t)},e.prototype.onNetDouble=function(t,e){if(t&&(cc.log("double result = "+JSON.stringify(e)),200==e.code)){var o=s.default.userData,n=s.default.userData.getActiveCardData();n.getCardList().push(e.card),n.setBetSum(e.betAmount),o.setBalance(e.balance);var r=new u.NtcDouble;r.card=e.card,r.nextDealerCards=e.nextDealerCards.length>0?e.nextDealerCards:[],r.rightCard=null!=e.rightCard?e.rightCard:-1,a.noticeCenter.emit(r)}},e.prototype.onCmdSplit=function(){c.default.urlConfig.base,cc.log("split params = "+JSON.stringify({}));var t={code:200};t.nextCard=a.Utils.randRange(0,51),t.nextCard=10,t.balance=s.default.userData.getBalance()-s.default.userData.getBetSum(),t.nextDealerCards=[];var e=[];if(e.push(s.default.userData.getActiveCardData().getCardList()[0],t.nextCard),21==C(e)){t.rightCard=a.Utils.randRange(0,51);var o=[s.default.userData.getPlayerCardList()[1]];if(o.push(t.rightCard),21==C(o))for(var n=s.default.gameData.getDealerCardList().slice(0);C(n)<17;){var r=a.Utils.randRange(0,51);t.nextDealerCards.push(r),n.push(r)}}this.onNetSplit(!0,t)},e.prototype.onNetSplit=function(t,e){if(t&&(cc.log("split result = "+JSON.stringify(e)),200==e.code)){var o=s.default.userData;o.setActiveCardsIdx(1),o.getSplitLeftData().setCardList([o.getPlayerCardList().shift()]),o.getSplitRightData().setCardList([o.getPlayerCardList().shift()]),o.getSplitLeftData().setBetSum(o.getBetSum()),o.getSplitRightData().setBetSum(o.getBetSum()),o.setBalance(e.balance);var n=new u.NtcSplit;n.nextSplitLeftCard=e.nextCard,n.nextSplitRightCard=null!=e.rightCard?e.rightCard:-1,n.nextDealerCards=e.nextDealerCards.length>0?e.nextDealerCards:[],a.noticeCenter.emit(n)}},i([a.onNotice(u.NtcTestStart)],e.prototype,"onNtcTestStart",null),i([a.onCommand(f)],e.prototype,"onCmdDeal",null),i([a.onCommand(h)],e.prototype,"onCmdHit",null),i([a.onCommand(m)],e.prototype,"onCmdStand",null),i([a.onCommand(g)],e.prototype,"onCmdDouble",null),i([a.onCommand(y)],e.prototype,"onCmdSplit",null),e}(a.Controller);o.GameController=_,cc._RF.pop()},{"../../Business/Data/CommonDefine":"CommonDefine","../../Business/Data/ConfigManager":"ConfigManager","../../Business/Data/DataManager":"DataManager","../../MobileKit/MKIndex":"MKIndex","../Data/PokerData":"PokerData","../NetWork/NetworkManager":"NetworkManager","./GameNotice":"GameNotice"}],GameData:[function(t,e,o){"use strict";cc._RF.push(e,"587c8jaYAZM36hqR3idCuRU","GameData"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CommonDefine"),r=t("./PokerData"),i=function(){function t(){this.m_gameStage=n.GameStage.Bet,this.m_placeMaxBet=0,this.m_dealerCardList=[]}return t.prototype.resetStage=function(){this.m_gameStage=n.GameStage.Bet,this.m_dealerCardList=[]},t.prototype.getGameStage=function(){return this.m_gameStage},t.prototype.setGameStage=function(t){this.m_gameStage=t},t.prototype.getPlaceMaxBet=function(){return this.m_placeMaxBet},t.prototype.setPlaceMaxBet=function(t){this.m_placeMaxBet=t},t.prototype.getDealerCardList=function(){return this.m_dealerCardList},t.prototype.setDealerCardList=function(t){this.m_dealerCardList=t},t.prototype.getDealerPoint=function(){var t=0,e=0;return this.m_dealerCardList.forEach(function(o){if(r.PokerData.getPokerPoint(o)==r.PokerPoint.PointA&&0==e)e+=1;else{var n=r.PokerData.getPokerPoint(o);n>r.PokerPoint.Point10&&(n=9),t+=n+1}}),t+=t>10?1*e:11*e},t}();o.default=i,cc._RF.pop()},{"./CommonDefine":"CommonDefine","./PokerData":"PokerData"}],GameNotice:[function(t,e,o){"use strict";cc._RF.push(e,"31af3V/1NxB4o3CuR3dhUJ9","GameNotice");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.NtcTestStart=o.NtcSplit=o.NtcDouble=o.NtcStand=o.NtcHit=o.NtcDeal=o.NtcUpdateChip=o.NtcDrawOut=void 0;var r=t("../../MobileKit/MKIndex"),i=function(){function t(){}return n([r.createNotice],t)}();o.NtcDrawOut=i;var a=function(){function t(){}return n([r.createNotice],t)}();o.NtcUpdateChip=a;var c=function(){function t(){this.playerCards=[],this.dealerCards=[],this.nextDealerCards=[]}return n([r.createNotice],t)}();o.NtcDeal=c;var s=function(){function t(){this.card=-1,this.nextDealerCards=[],this.rightCard=-1}return n([r.createNotice],t)}();o.NtcHit=s;var l=function(){function t(){this.dealerCards=[],this.nextCard=-1}return n([r.createNotice],t)}();o.NtcStand=l;var u=function(){function t(){this.card=-1,this.nextDealerCards=[],this.rightCard=-1}return n([r.createNotice],t)}();o.NtcDouble=u;var p=function(){function t(){this.nextSplitLeftCard=-1,this.nextSplitRightCard=-1,this.nextDealerCards=[]}return n([r.createNotice],t)}();o.NtcSplit=p;var d=function(){function t(){}return n([r.createNotice],t)}();o.NtcTestStart=d,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],GameRecordLayer:[function(t,e,o){"use strict";cc._RF.push(e,"76d256602JCGZ6NhZiNIqo9","GameRecordLayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Business/Data/DataManager"),c=t("./Common/PopupBase"),s=t("./Common/PrefabPool"),l=t("../Business/Data/CommonDefine"),u=t("./RecordDateCell"),p=cc._decorator,d=p.ccclass,f=p.property,h=(p.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e}return r(e,t),Object.defineProperty(e,"path",{get:function(){return"Scenes/Game/game_record_layer"},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.main||(this.main=this.node)},e.prototype.updateDisplay=function(){var t=this,e=a.default.userData.getGameRecordLst();e.length>=50&&(e=e.slice(0,50)),e.sort(function(t,e){return e.time-t.time});var o=new Map;e.forEach(function(t){var e,n,r,i,a=(e=t.time,r=(n=new Date(e)).getFullYear(),i=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,(n.getDate()<10?"0"+n.getDate():n.getDate())+"-"+i+"-"+r);o.has(a)?o.get(a).push(t):o.set(a,[t])}),this.scrollView.content.removeAllChildren(),o.forEach(function(e,o){var n=s.default.get(l.PrefabList.RecordDateCell),r=n.getComponent(u.RecordDateCell);n.setParent(t.scrollView.content),r.setData(o,e)})},e.prototype.onAfterHide=function(){},e.prototype.onTouchClose=function(){this.hide()},i([f(cc.ScrollView)],e.prototype,"scrollView",void 0),i([d],e)}(c.default));o.default=h,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","./Common/PopupBase":"PopupBase","./Common/PrefabPool":"PrefabPool","./RecordDateCell":"RecordDateCell"}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"a7d62FcWh5K2YaaMxNMEQCG","GameScene");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MobileKit/MKIndex"),c=t("../Business/Data/DataManager"),s=t("../Business/Data/CommonDefine"),l=t("../Business/Logic/GameNotice"),u=t("./Common/UIUtils"),p=t("./Common/PopupManager"),d=t("./Common/MessageView"),f=t("./GameAction"),h=t("./StageMsgLayer"),m=t("../Business/Data/PokerData"),g=cc._decorator,y=g.ccclass,C=g.property,_=(g.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nowLanguage=s.LangList.en,e.txtBalance=null,e.txtBet=null,e.txtPlayerPoint=null,e.txtSplitPointLeft=null,e.txtSplitPointRight=null,e.btnMenu=null,e.bgPoint=null,e.splitNodeLeft=null,e.splitNodeRight=null,e.stageMsgLayer=null,e.gameAction=null,e}return r(e,t),Object.defineProperty(e.prototype,"language",{get:function(){return this.nowLanguage},set:function(t){this.nowLanguage=t,a.LocalLang.setLanguage(s.LangList[t])},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){a.Utils.resize(),a.noticeCenter.registAllNotice(this),this.gameAction=this.node.getComponent(f.default),this.initUI(),this.updateBalance(),this.resetStage(),this.resetSplit(),this.gameAction.setPlayBtnState(!1),this.gameAction.setBetBtnState(!0),a.AudioEngine.playMusic(s.SoundList.Bgm,!0),cc.view.setResizeCallback(function(){a.Utils.resize()})},e.prototype.initUI=function(){u.UIUtils.ButtonEvent(this.btnMenu,this.onTouchMenu.bind(this))},e.prototype.resetStage=function(){c.default.gameData.resetStage(),c.default.userData.resetStage(),this.updateBalance(),this.updateCardsPoint(),this.bgPoint.active=!0},e.prototype.resetSplit=function(){this.splitNodeLeft.active=!1,this.splitNodeRight.active=!1,this.gameAction.setSplitMaskLeft(!1),this.gameAction.setSplitMaskRight(!1),this.gameAction.chipPlaceNode.active=!0},e.prototype.onTouchMenu=function(){p.default.show(s.PrefabList.MenuLayer)},e.prototype.selectedChipVal=function(){return c.default.homeData.getChipLst()[c.default.userData.getSelectChip()]},e.prototype.updateBalance=function(){var t=c.default.userData;if(this.txtBalance.string="\u20b9"+u.UIUtils.getShortNumber(t.getBalance(),!0),0!=t.getActiveCardsIdx()){var e=t.getSplitLeftData().getBetSum()+t.getSplitRightData().getBetSum();this.txtBet.string="\u20b9"+u.UIUtils.getShortNumber(e,!0)}else this.txtBet.string="\u20b9"+u.UIUtils.getShortNumber(t.getBetSum(),!0)},e.prototype.updateCardsPoint=function(t){void 0===t&&(t=0);var e=c.default.userData,o=e.getNormalData(),n=this.txtPlayerPoint;1==t?(o=e.getSplitLeftData(),n=this.txtSplitPointLeft):2==t&&(o=e.getSplitRightData(),n=this.txtSplitPointRight);var r=o.getCardList(),i=0,a=0;r.forEach(function(t){if(m.PokerData.getPokerPoint(t)==m.PokerPoint.PointA&&0==a)a+=1;else{var e=m.PokerData.getPokerPoint(t);e>m.PokerPoint.Point10&&(e=9),i+=e+1}});var l=i,u=o.getPoint();i<10&&(l+=1*a);var p="";!o.isStand()&&a>0&&21!=u&&l<11&&c.default.gameData.getGameStage()!=s.GameStage.Finish&&(p=l+"/");var d=p+u.toString();n.string=d},e.prototype.resultJudge=function(){var t=this;c.default.gameData.setGameStage(s.GameStage.Finish);var e=c.default.userData,o=c.default.userData.getActiveCardData(),n=o.getPoint(),r=c.default.gameData.getDealerPoint(),i=o.getBetSum();this.gameAction.updateDealerPoint();var a=0,l=!1,u=!1;if(n>21?(d.default.show("You Bust"),l=!1):r>21?(d.default.show("Dealer Bust"),l=!0):r<n?(d.default.show("You Win"),l=!0):r>n?(d.default.show("Dealer Win"),l=!1):r==n&&(d.default.show("PUSH"),l=!0,u=!0),l&&(a=1*i,o.isBlackjack()&&(a+=1.5*i)),cc.tween(this.node).delay(1).call(function(){a>0?u?t.gameAction.playerWin(0):(t.gameAction.playerWin(a),d.default.show("You Won "+a+".")):t.gameAction.playerLose()}).start(),u&&(a=i),a>0){var p=e.getBalance()+a+i;e.setBalance(p)}this.updateBalance()},e.prototype.onNtcUpdateChip=function(){this.updateBalance()},e.prototype.onNtcDeal=function(t){var e=this;this.gameAction.startDealCard(t.playerCards,t.dealerCards,function(){e.updateCardsPoint()},function(){if(21==c.default.userData.getPlayerPoint()){d.default.show("Blackjack");var o=new l.NtcStand;o.dealerCards=t.nextDealerCards,cc.tween(e.node).delay(1).call(function(){a.noticeCenter.emit(o)}).start()}else e.gameAction.setPlayBtnState(!0)})},e.prototype.onNtcHit=function(t){var e=this,o=c.default.userData.getActiveCardsIdx(),n=c.default.userData.getActiveCardData().getPoint();this.gameAction.dealCard(s.PlayerType.Player,t.card,function(){if(21==n){if(t.nextDealerCards.length>0||1==o){var r=new l.NtcStand;r.dealerCards=t.nextDealerCards,cc.tween(e.node).delay(1).call(function(){a.noticeCenter.emit(r),1==o&&(r.nextCard=t.rightCard)}).start()}}else if(n>21){d.default.show("You Bust",3);var i=new l.NtcStand;i.dealerCards=t.nextDealerCards,1==o&&(i.nextCard=t.rightCard),a.noticeCenter.emit(i)}else e.gameAction.setPlayBtnState(!0);0!=o?e.updateCardsPoint(o):e.updateCardsPoint()})},e.prototype.onNtcStand=function(t){var e=this;if(c.default.userData.getActiveCardData().setStand(!0),this.updateCardsPoint(c.default.userData.getActiveCardsIdx()),1!=c.default.userData.getActiveCardsIdx()){var o=t.dealerCards,n=c.default.gameData.getDealerCardList(),r=o.shift();this.updateCardsPoint(),this.updateCardsPoint(2);var i=cc.tween(this.node).call(function(){var t=e.gameAction.dealerCardList[1];t.node.eulerAngles=cc.v3(0,-180,0),u.UIUtils.flipToFront(t.node,.5,function(){n.push(r),t.setPoker(r),e.gameAction.updateDealerPoint(),21==c.default.gameData.getDealerPoint()&&d.default.show("Blackjack")})});o.forEach(function(t){i.delay(.5).call(function(){e.gameAction.dealCard(s.PlayerType.Dealer,t,function(){n.push(t),e.gameAction.updateDealerPoint()})})}),i.delay(1),0==c.default.userData.getActiveCardsIdx()?i.call(function(){e.resultJudge()}):2==c.default.userData.getActiveCardsIdx()&&i.call(function(){c.default.userData.setActiveCardsIdx(1),e.gameAction.setSplitMaskLeft(!1),e.gameAction.setSplitMaskRight(!0),e.resultJudge()}).delay(2).call(function(){c.default.userData.setActiveCardsIdx(2),e.gameAction.setSplitMaskLeft(!0),e.gameAction.setSplitMaskRight(!1),e.resultJudge()}).delay(1),i.delay(2).call(function(){e.gameAction.setSplitMaskLeft(!1),e.gameAction.setSplitMaskRight(!1),e.resetStage(),e.resetSplit(),e.gameAction.resetPoker(),e.gameAction.resetGameStage()}).delay(1).call(function(){c.default.gameData.setGameStage(s.GameStage.Bet),e.gameAction.setBetBtnState(!0)}).start()}else cc.tween(this.node).delay(.5).call(function(){e.gameAction.setSplitMaskLeft(!0),e.gameAction.setSplitMaskRight(!1),c.default.userData.setActiveCardsIdx(2),e.gameAction.dealCard(s.PlayerType.Player,t.nextCard,function(){c.default.userData.getActiveCardData().getCardList().push(t.nextCard),e.updateCardsPoint(2)})}).delay(1).call(function(){if(21==c.default.userData.getActiveCardData().getPoint()){d.default.show("Blackjack"),e.gameAction.setPlayBtnState(!1);var o=new l.NtcStand;o.dealerCards=t.dealerCards,a.noticeCenter.emit(o)}else e.gameAction.setPlayBtnState(!0)}).start()},e.prototype.onNtcDouble=function(t){var e=this;this.updateBalance(),this.gameAction.dealCard(s.PlayerType.Player,t.card,function(){c.default.userData.getPlayerPoint()>21&&d.default.show("You Bust",5);var o=new l.NtcStand;o.dealerCards=t.nextDealerCards,1==c.default.userData.getActiveCardsIdx()&&(o.nextCard=t.rightCard),cc.tween(e.node).delay(.5).call(function(){a.noticeCenter.emit(o)}).start()}),this.updateCardsPoint(c.default.userData.getActiveCardsIdx())},e.prototype.onNtcSplit=function(t){var e=this,o=this.gameAction.playerCardList[0].node,n=u.UIUtils.posTransform(o,this.gameAction.splitCardNodeLeft),r=cc.tween(o).to(.5,{position:n},{easing:"smooth"}).call(function(){e.splitNodeLeft.active=!0,u.UIUtils.nodeToNewParent(o,e.gameAction.splitCardNodeLeft),e.gameAction.chipPlaceNode.active=!1,e.updateCardsPoint(1),e.bgPoint.active=!1}),i=this.gameAction.playerCardList[1].node,p=u.UIUtils.posTransform(i,this.gameAction.splitCardNodeRight),f=cc.tween(i).to(.5,{position:p},{easing:"smooth"}).call(function(){e.splitNodeRight.active=!0,u.UIUtils.nodeToNewParent(i,e.gameAction.splitCardNodeRight),e.updateCardsPoint(2),e.updateBalance()}),h=cc.tween(this.node).call(function(){e.gameAction.dealCard(s.PlayerType.Player,t.nextSplitLeftCard,function(){e.updateCardsPoint(1),e.gameAction.setSplitMaskRight(!0)})});cc.tween(this.node).call(function(){r.start()}).delay(.5).call(function(){f.start()}).delay(.5).call(function(){c.default.userData.getActiveCardData().getCardList().push(t.nextSplitLeftCard),h.start(),21==c.default.userData.getActiveCardData().getPoint()?e.scheduleOnce(function(){d.default.show("Blackjack");var e=new l.NtcStand;e.nextCard=t.nextSplitRightCard,e.dealerCards=t.nextDealerCards,a.noticeCenter.emit(e)},1):e.scheduleOnce(function(){e.gameAction.setPlayBtnState(!0)},1)}).start()},i([C({visible:!1})],e.prototype,"nowLanguage",void 0),i([C({type:cc.Enum(s.LangList),displayName:"\u8bed\u8a00"})],e.prototype,"language",null),i([C(cc.Label)],e.prototype,"txtBalance",void 0),i([C(cc.Label)],e.prototype,"txtBet",void 0),i([C(cc.Label)],e.prototype,"txtPlayerPoint",void 0),i([C(cc.Label)],e.prototype,"txtSplitPointLeft",void 0),i([C(cc.Label)],e.prototype,"txtSplitPointRight",void 0),i([C(cc.Button)],e.prototype,"btnMenu",void 0),i([C(cc.Node)],e.prototype,"bgPoint",void 0),i([C(cc.Node)],e.prototype,"splitNodeLeft",void 0),i([C(cc.Node)],e.prototype,"splitNodeRight",void 0),i([C(h.default)],e.prototype,"stageMsgLayer",void 0),i([a.onNotice(l.NtcUpdateChip)],e.prototype,"onNtcUpdateChip",null),i([a.onNotice(l.NtcDeal)],e.prototype,"onNtcDeal",null),i([a.onNotice(l.NtcHit)],e.prototype,"onNtcHit",null),i([a.onNotice(l.NtcStand)],e.prototype,"onNtcStand",null),i([a.onNotice(l.NtcDouble)],e.prototype,"onNtcDouble",null),i([a.onNotice(l.NtcSplit)],e.prototype,"onNtcSplit",null),i([y],e)}(cc.Component));o.default=_,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/DataManager":"DataManager","../Business/Data/PokerData":"PokerData","../Business/Logic/GameNotice":"GameNotice","../MobileKit/MKIndex":"MKIndex","./Common/MessageView":"MessageView","./Common/PopupManager":"PopupManager","./Common/UIUtils":"UIUtils","./GameAction":"GameAction","./StageMsgLayer":"StageMsgLayer"}],GameSocket:[function(t,e,o){"use strict";cc._RF.push(e,"659106K+BVDSJ61zsYJ4kAn","GameSocket");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.connect=function(t){if(this.disconnect(),cc.sys.isNative){var e=cc.url.raw("resources/raw/android.cer");cc.log("Websocket : penUrl = ",e),cc.loader.md5Pipe?(e=cc.loader.md5Pipe.transformURL(e),cc.log("Websocket : md5Pipe = ",e),this.m_socket=new WebSocket(t,null,e)):(cc.log("Websocket : cc.loader.md5Pipe:",cc.loader.md5Pipe),this.m_socket=new WebSocket(t,null,e))}else this.m_socket=new WebSocket(t);this.m_socket.binaryType="arraybuffer",this.m_socket.onopen=this.onConnect.bind(this),this.m_socket.onmessage=this.onSocketDataReceived.bind(this),this.m_socket.onerror=this.onError.bind(this),this.m_socket.onclose=this.onClose.bind(this)},e.prototype.disconnect=function(){t.prototype.disconnect.call(this),null!==this.m_socket&&(this.m_socket.onopen=null,this.m_socket.onmessage=null,this.m_socket.onerror=null,this.m_socket.onclose=null,this.m_socket.close(),this.m_socket=null)},e.prototype.send=function(t,e){this.isConnected()&&this.m_socket.send(this.encodeMsgID(t,e))},e.prototype.encodeMsgID=function(){},e.prototype.decodeMsgID=function(){},e.prototype.onSocketDataReceived=function(t){var e=t.data,o=this.decodeMsgID(e);this.onMessage(o)},e}(t("../../MobileKit/MKIndex").Socket);o.default=i,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],GradientColor:[function(t,e,o){"use strict";cc._RF.push(e,"42432oBTYlJHpeJx9kxrxQW","GradientColor");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.requireComponent,u=a.disallowMultiple,p=a.executeInEditMode,d=a.help,f=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[cc.Color.RED,cc.Color.BLUE,cc.Color.RED,cc.Color.BLUE],e}return r(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){t.length>4&&(t.length=4),this._colors=t,this.markForRender()},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){this.replaceFunction()},e.prototype.onDisable=function(){this.restoreFunction()},e.prototype.resetInEditor=function(){this.markForRender()},e.prototype.replaceFunction=function(){var t=this,e=this.getComponent(cc.RenderComponent);if(e){var o=e._assembler;o instanceof cc.Assembler2D&&(o.updateColor=function(){var e=o._renderData.uintVDatas[0];if(e)for(var n=o.floatsPerVert,r=o.colorOffset,i=t.node.color,a=0,c=r,s=e.length;c<s;c+=n)e[c]=(t.colors[a++]||i)._val},this.markForRender())}},e.prototype.restoreFunction=function(){var t=this.getComponent(cc.RenderComponent);if(t){var e=t._assembler;e instanceof cc.Assembler2D&&(e.updateColor=cc.Assembler2D.prototype.updateColor,this.markForRender())}},e.prototype.markForRender=function(){this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR},i([s()],e.prototype,"_colors",void 0),i([s({type:[cc.Color],tooltip:!1})],e.prototype,"colors",null),i([c,l(cc.RenderComponent),u,p,d("https://gitee.com/ifaswind/eazax-ccc/blob/master/components/renderers/GradientColor.ts"),f("eazax/\u6e32\u67d3\u7ec4\u4ef6/GradientColor")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],HandCardData:[function(t,e,o){"use strict";cc._RF.push(e,"b52ccX9t/pE94h58MzXL08e","HandCardData"),Object.defineProperty(o,"__esModule",{value:!0}),o.HandCardsData=void 0;var n=t("./PokerData"),r=function(){function t(){this.m_betSum=0,this.m_cardList=[],this.m_isStand=!1,this.m_isBust=!1}return t.prototype.reset=function(){this.m_betSum=0,this.m_cardList=[],this.m_isStand=!1,this.m_isBust=!1},t.prototype.getBetSum=function(){return this.m_betSum},t.prototype.setBetSum=function(t){this.m_betSum=t},t.prototype.getCardList=function(){return this.m_cardList},t.prototype.setCardList=function(t){this.m_cardList=t},t.prototype.getPoint=function(){var t=0,e=0;return this.m_cardList.forEach(function(o){if(n.PokerData.getPokerPoint(o)==n.PokerPoint.PointA&&0==e)e+=1;else{var r=n.PokerData.getPokerPoint(o);r>n.PokerPoint.Point10&&(r=9),t+=r+1}}),t+=t>10?1*e:11*e},t.prototype.isStand=function(){return this.m_isStand},t.prototype.setStand=function(t){this.m_isStand=t},t.prototype.isBlackjack=function(){return this.m_cardList.length<3&&21==this.getPoint()},t.prototype.isBust=function(){return this.m_isBust},t.prototype.setIsBust=function(t){this.m_isBust=t},t}();o.HandCardsData=r,cc._RF.pop()},{"./PokerData":"PokerData"}],HeartBeatHandler:[function(t,e,o){"use strict";cc._RF.push(e,"cbbe6PK4uNJaqhiv8nPLltL","HeartBeatHandler"),Object.defineProperty(o,"__esModule",{value:!0}),o.HeartBeatHandler=void 0;var n=function(){function t(){this.m_idle=10,this.m_maxMissCount=2,this.m_idleCallBack=null,this.m_timeOutCallBack=null,this.m_missCallBack=null,this.m_logName="",this.m_curMissCount=0,this.m_lastTickTime=-1,this.m_curIdle=-1,cc.director.getScheduler().enableForTarget(this)}return Object.defineProperty(t.prototype,"idle",{set:function(t){this.m_idle=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxMissCount",{set:function(t){this.m_maxMissCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleCallBack",{set:function(t){this.m_idleCallBack=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeOutCallBack",{set:function(t){this.m_timeOutCallBack=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"missCallBack",{set:function(t){this.m_missCallBack=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logName",{set:function(t){this.m_logName=t},enumerable:!1,configurable:!0}),t.prototype.startIdle=function(){this.clearState();var t=(new Date).getTime();this.m_lastTickTime=t,cc.director.getScheduler().unscheduleAllForTarget(this),cc.director.getScheduler().schedule(this.onIdleTime,this,1),cc.log(this.m_logName+" start idle.")},t.prototype.stopIdle=function(){this.m_curMissCount=0,this.m_lastTickTime=-1,cc.director.getScheduler().unscheduleAllForTarget(this),cc.log(this.m_logName+" stop idle.")},t.prototype.onReceiveHeartBeat=function(){this.clearState()},t.prototype.clearState=function(){this.m_curMissCount=0,this.m_curIdle=this.m_idle},t.prototype.sendIdle=function(){this.m_curMissCount++,2==this.m_curMissCount&&(cc.log(this.m_logName+" miss heart beat."),null!=this.m_missCallBack&&this.m_missCallBack()),this.m_maxMissCount>0&&this.m_curMissCount>this.m_maxMissCount?this.onHeartBeatTimeOut():null!=this.m_idleCallBack&&this.m_idleCallBack()},t.prototype.onIdleTime=function(t){var e=(new Date).getTime();this.m_lastTickTime>0&&(t=(e-this.m_lastTickTime)/1e3),this.m_lastTickTime=e,t>this.m_idle*this.m_maxMissCount?this.onHeartBeatTimeOut():(this.m_curIdle-=t,this.m_curIdle<=0&&(this.m_curIdle=this.m_idle,this.sendIdle()))},t.prototype.onHeartBeatTimeOut=function(){cc.log(this.m_logName+" heart beat time out."),this.stopIdle(),null!=this.m_timeOutCallBack&&this.m_timeOutCallBack()},t}();o.HeartBeatHandler=n,cc._RF.pop()},{}],HomeData:[function(t,e,o){"use strict";cc._RF.push(e,"43833cz8yRD7r9Zq0qV9kBo","HomeData"),Object.defineProperty(o,"__esModule",{value:!0}),o.HomeData=o.MaintainData=void 0;var n=t("./CommonDefine"),r=function(){function t(){this.m_start=0,this.m_end=0,this.m_content=new Map,this.m_hasData=!1}return t.prototype.isNearTime=function(){return this.m_hasData},t.prototype.isMaintainTime=function(){var t=(new Date).getTime();return t>this.m_start&&t<this.m_end},t}();o.MaintainData=r;var i=function(){function t(){this.m_chipsUnit=1,this.m_chipLst=[],this.m_gameStage=n.GameStage.Bet,this.m_oddList=[],this.m_ws=""}return t.prototype.getChipsUnit=function(){return this.m_chipsUnit},t.prototype.setChipsUnit=function(t){this.m_chipsUnit=t},t.prototype.getChipLst=function(){return this.m_chipLst},t.prototype.setChipLst=function(t){this.m_chipLst=t},t.prototype.getOddList=function(){return this.m_oddList},t.prototype.setOddList=function(t){this.m_oddList=t},t.prototype.getWs=function(){return this.m_ws},t.prototype.setWs=function(t){this.m_ws=t},t}();o.HomeData=i,cc._RF.pop()},{"./CommonDefine":"CommonDefine"}],HttpUtils:[function(t,e,o){"use strict";cc._RF.push(e,"6dcb9C9N2ZAg5+91n23jf2N","HttpUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../MobileKit/MKIndex"),r=function(){function t(){}return t.generateSign=function(t){var e=[];for(var o in t)e.push(o);e.sort();for(var r="",i=0;i<e.length;++i){var a=e[i];r+=a+t[a]}return r+="ddgame",n.CryptoUtils.md5(r)},t}();o.default=r,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],LoadingConfig:[function(t,e,o){"use strict";cc._RF.push(e,"ce28cPR/G1B07ofLePg+SKH","LoadingConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SpriteFrameResLst=o.LoadingResLst=void 0;var n=t("../Business/Data/CommonDefine");o.LoadingResLst=new Map,o.SpriteFrameResLst=new Map,o.LoadingResLst.set(n.PrefabList.BetChip,cc.Prefab),o.LoadingResLst.set(n.PrefabList.RecordDateCell,cc.Prefab),o.LoadingResLst.set(n.PrefabList.RecordTimeCell,cc.Prefab),o.LoadingResLst.set(n.PrefabList.PokerNode,cc.Prefab),o.LoadingResLst.set("Sound/bgm_hall",cc.AudioClip),o.LoadingResLst.set("Sound/click",cc.AudioClip),o.LoadingResLst.set("Sound/chip",cc.AudioClip),o.LoadingResLst.set("Sound/btn_wrong",cc.AudioClip),o.LoadingResLst.set("Sound/shine",cc.AudioClip),o.LoadingResLst.set("Sound/alarm",cc.AudioClip),o.LoadingResLst.set(n.PrefabList.MenuLayer,cc.Prefab),o.LoadingResLst.set("Scenes/Common/MessageView",cc.Prefab),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_dis",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal0",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_select0",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal1",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_select1",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal2",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_select2",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal3",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_select3",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal4",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_select4",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_normal5",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Chips/chip_select5",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_1",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_2",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_3",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_4",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_5",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_6",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_7",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_8",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_9",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_10",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_j",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_q",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_k",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/clubs_down",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_1",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_2",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_3",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_4",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_5",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_6",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_7",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_8",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_9",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_10",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_j",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_q",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_k",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/diamonds_down",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/hearts_down",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/joker_big",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/joker_small",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/poker_bg",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/poker_back",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/spades_down",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/j_clubs",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/q_clubs",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/k_clubs",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/j_hearts",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/q_hearts",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/k_hearts",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/j_spades",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/q_spades",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/k_spades",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/j_diamonds",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/q_diamonds",cc.SpriteFrame),o.SpriteFrameResLst.set("Texture/Game/Poker/k_diamonds",cc.SpriteFrame),cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine"}],LoadingScene:[function(t,e,o){"use strict";cc._RF.push(e,"b3227XK/V5PI5kdwcCTTjvS","LoadingScene");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MobileKit/MKIndex"),c=t("../Business/Data/DataManager"),s=t("../Business/Data/ConfigManager"),l=t("../Business/Data/CommonDefine"),u=t("../Business/Logic/SceneController"),p=t("./LoadingConfig"),d=t("../Business/Logic/GameController"),f=t("../Business/Data/SaveDataManager"),h=cc._decorator,m=h.ccclass,g=h.property,y=(h.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.urlConfig=null,e.appInfo=null,e.progressBar=null,e.txtLoading=null,e.loadResOK=!1,e.loadSpriteFrameOK=!1,e}return r(e,t),e.prototype.onLoad=function(){a.noticeCenter.registAllNotice(this),this.initApp(),cc.director.preloadScene("Game",this.onSceneProgress.bind(this),function(){}),this.txtLoading.string="0 %",this.progressBar.progress=0},e.prototype.initApp=function(){a.commandCenter.addController(new u.SceneController),a.commandCenter.addController(new d.GameController),c.default.init(),f.default.init(),a.AudioEngine.setEffectsEnabled(f.default.getEffectEnable()),a.AudioEngine.setMusicEnabled(f.default.getMusicEnable()),a.AudioEngine.setEffectsVolume(.5),a.AudioEngine.setMusicVolume(.5),a.LocalLang.setLanguage("en"),this.initTestData(),s.default.setUrlConfig(this.urlConfig.json),s.default.setAppInfo(this.appInfo.json),this.loadRes()},e.prototype.initTestData=function(){c.default.userData.setUid(5566),c.default.userData.setBalance(5e4),c.default.homeData.setChipLst([5,10,50,100,500,1e3]),c.default.homeData.setChipsUnit(1),c.default.homeData.setOddList([1.9,2,3.5,4.5,5.5,4.5,15,25,50,120]),c.default.gameData.setPlaceMaxBet(5e3),c.default.userData.setGameRecordLst([{win:0,bet:566603,time:1659672199036},{win:1897,bet:221416,time:1659852686870},{win:176005,bet:416371,time:1659363891840},{win:544272,bet:569721,time:1659559310519},{win:593906,bet:789474,time:1660162894629},{win:406983,bet:290266,time:1659553172714},{win:0,bet:134404,time:1659403357422},{win:187926,bet:360880,time:1659684597626},{win:14710,bet:725928,time:1660381525602},{win:423655,bet:145350,time:1660518134646},{win:558296,bet:350530,time:1659345763719},{win:0,bet:227406,time:1660263917216},{win:275606,bet:612233,time:1659709237201},{win:684479,bet:746349,time:1659827812020},{win:368217,bet:778583,time:1660048317342},{win:113525,bet:202821,time:1659844628972},{win:646745,bet:226302,time:1660158796549},{win:0,bet:479907,time:1659480873909},{win:432833,bet:101981,time:1659388461986},{win:0,bet:223385,time:1659531443999},{win:636499,bet:644389,time:1660310376014},{win:28035,bet:648762,time:1659921103913},{win:405152,bet:566772,time:1660376263406},{win:696079,bet:173395,time:1659444381973},{win:592150,bet:115498,time:1660493444415},{win:797304,bet:24235,time:1660433641746},{win:256483,bet:163957,time:1659984157476},{win:206789,bet:173698,time:1660425179680},{win:667544,bet:660938,time:1659591496568},{win:486550,bet:511442,time:1659514603193},{win:0,bet:61695,time:1659774572989},{win:621616,bet:334716,time:1659617790438},{win:276723,bet:793519,time:1660189704346},{win:94920,bet:316114,time:1660319055933},{win:454318,bet:793221,time:1659755537530},{win:255498,bet:329832,time:1660086884451},{win:0,bet:387451,time:1659481840406},{win:570174,bet:754778,time:1659635852230},{win:780508,bet:126502,time:1659969237539},{win:725625,bet:462468,time:1660343355002},{win:7989,bet:111839,time:1659635709301},{win:182955,bet:620751,time:1659468757576},{win:491297,bet:404124,time:1659619332654},{win:136917,bet:326556,time:1659654314917},{win:776349,bet:152143,time:1659746698181},{win:509581,bet:73437,time:1659648569790},{win:296753,bet:408828,time:1659370542793}])},e.prototype.loadRes=function(){cc.resources.load(Array.from(p.LoadingResLst.keys()),null,this.onLoadProgress.bind(this),this.onLoadResComplete.bind(this)),cc.resources.load(Array.from(p.SpriteFrameResLst.keys()),cc.SpriteFrame,this.onLoadProgress.bind(this),this.onLoadSpriteFrameComplete.bind(this))},e.prototype.onLoadProgress=function(){},e.prototype.onLoadResComplete=function(t){t&&console.log("ANGO : ERROR : ",t),this.loadResOK=!0,this.gotoNextScene()},e.prototype.onLoadSpriteFrameComplete=function(t){t&&console.log("ANGO : ERROR : ",t),this.loadSpriteFrameOK=!0,this.gotoNextScene()},e.prototype.gotoNextScene=function(){this.loadResOK&&this.loadSpriteFrameOK&&a.commandCenter.emit(new u.CmdScene(l.SceneType.Game))},e.prototype.onSceneProgress=function(t,e){try{this.progressBar.progress=t/e,this.txtLoading.string=Math.floor(t/e*100)+" %"}catch(o){}},e.prototype.onNtcLogin=function(t){0==t.result?this.gotoNextScene():1==t.result||2==t.result||t.result},i([g(cc.JsonAsset)],e.prototype,"urlConfig",void 0),i([g(cc.JsonAsset)],e.prototype,"appInfo",void 0),i([g(cc.ProgressBar)],e.prototype,"progressBar",void 0),i([g(cc.Label)],e.prototype,"txtLoading",void 0),i([m],e)}(cc.Component));o.default=y,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/ConfigManager":"ConfigManager","../Business/Data/DataManager":"DataManager","../Business/Data/SaveDataManager":"SaveDataManager","../Business/Logic/GameController":"GameController","../Business/Logic/SceneController":"SceneController","../MobileKit/MKIndex":"MKIndex","./LoadingConfig":"LoadingConfig"}],LowBalanceLayer:[function(t,e,o){"use strict";cc._RF.push(e,"4b20csg+IJOZo4kG4JnQjIw","LowBalanceLayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Common/PopupBase"),c=cc._decorator,s=c.ccclass,l=(c.property,c.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animationDuration=0,e}return r(e,t),Object.defineProperty(e,"path",{get:function(){return"Scenes/Game/low_balance_layer"},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;this.main||(this.main=this.node),this.scheduleOnce(function(){t.hide()},2)},i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],MKActionQueue:[function(t,e,o){"use strict";cc._RF.push(e,"7733b8JdpNIHYxZ1k+2nx9N","MKActionQueue"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActionQueue=void 0;var n=function(){function t(){this.m_actionQueue=null,this.m_delay=0,this.m_actionQueue=[],cc.director.getScheduler().enableForTarget(this),cc.director.getScheduler().scheduleUpdate(this,0,!1)}return t.prototype.postAction=function(t,e){this.m_actionQueue.push({func:t,param:e})},t.prototype.setDelayTime=function(t){t<cc.macro.FLT_EPSILON||this.m_delay<t&&(this.m_delay=t)},t.prototype.clear=function(){this.clearDelayTime(),this.removeAllAction()},t.prototype.clearDelayTime=function(){this.m_delay=0},t.prototype.removeAllAction=function(){this.m_actionQueue.length=0},t.prototype.update=function(t){if(this.m_delay>0&&(this.m_delay-=t),this.m_actionQueue.length>0&&this.m_delay<cc.macro.FLT_EPSILON){var e=this.m_actionQueue.shift();e.func(e.param)}},t.prototype.onExit=function(){this.clear(),cc.director.getScheduler().unscheduleAllForTarget(this)},t}();o.ActionQueue=n,cc._RF.pop()},{}],MKAudioEngine:[function(t,e,o){"use strict";cc._RF.push(e,"1950dWg/apGgKPh5p5a+7i+","MKAudioEngine"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioEngine=void 0;var n=!1,r=!1,i=null,a=!1,c=function(){function t(){}return t.playEffect=function(t,e){if(void 0===e&&(e=!1),n){if(t instanceof cc.AudioClip)return cc.audioEngine.playEffect(t,e);var o=cc.resources.get(t);if(null!=o)return cc.audioEngine.playEffect(o,e)}return 0},t.stopEffect=function(t){t>0&&cc.audioEngine.stopEffect(t)},t.playMusic=function(t,e){if(void 0===e&&(e=!1),t instanceof cc.AudioClip)i=t;else{var o=cc.resources.get(t);null!=o&&(i=o)}a=e,r&&cc.audioEngine.playMusic(i,a)},t.stopMusic=function(){i=null,cc.audioEngine.stopMusic()},t.setEffectsVolume=function(t){cc.audioEngine.setEffectsVolume(t)},t.setMusicVolume=function(t){cc.audioEngine.setMusicVolume(t)},t.setAudioVolume=function(t,e){cc.audioEngine.setVolume(t,e)},t.setEffectsEnabled=function(t){n=t,t||cc.audioEngine.stopAllEffects()},t.setMusicEnabled=function(t){r=t,t?null!=i&&cc.audioEngine.playMusic(i,a):cc.audioEngine.stopMusic()},t.setMute=function(e){t.setEffectsEnabled(!e),t.setMusicEnabled(!e)},t.isMute=function(){return r&&n},t.isMusicPlaying=function(){return cc.audioEngine.isMusicPlaying()},t.pauseMusic=function(){cc.audioEngine.pauseMusic()},t}();o.AudioEngine=c,cc._RF.pop()},{}],MKCommandCenter:[function(t,e,o){"use strict";cc._RF.push(e,"36eecgRfGBIvrNItfzw/c9j","MKCommandCenter"),Object.defineProperty(o,"__esModule",{value:!0}),o.onCommand=o.commandCenter=o.CommandCenter=o.Controller=o.createCommand=void 0;var n=0;o.createCommand=function(t){t.Type="Command"+n++,t.prototype.getType=function(){return t.Type}};var r=function(){function t(){this.name=""}return t.prototype.setName=function(t){this.name=t},t.prototype.getName=function(){return this.name},t.prototype.onExit=function(){},t}();o.Controller=r;var i=function(){function t(){this.m_controllers=new Map,this.m_eventTarget=new cc.EventTarget}return t.prototype.addController=function(t){var e=t.getName();this.m_controllers.get(e)?(cc.log("MKCommandCenter warning, controller already exist"),t.onExit()):this.m_controllers.set(e,t)},t.prototype.removeController=function(t){var e=this.m_controllers.get(t);e&&(e.onExit(),this.targetOff(e),this.m_controllers.delete(t))},t.prototype.hasController=function(t){return this.m_controllers.get(t)},t.prototype.on=function(t,e,o){this.m_eventTarget.on(t.Type,e,o)},t.prototype.off=function(t,e,o){this.m_eventTarget.off(t.Type,e,o)},t.prototype.registAllCommand=function(t){if(t.commandList)for(var e=0,o=t.commandList;e<o.length;e++){var n=o[e];this.on(n.command,t[n.methodName],t)}},t.prototype.targetOff=function(t){this.m_eventTarget.targetOff(t)},t.prototype.emit=function(t){this.m_eventTarget.hasEventListener(t.getType())?this.m_eventTarget.emit(t.getType(),t):cc.log("MKCommandCenter err : no command handler, command type = "+t.getType())},t}();o.CommandCenter=i,o.commandCenter=new i,o.onCommand=function(t){return function(e,o){e.commandList||(e.commandList=[]),e.commandList.push({command:t,methodName:o})}},cc._RF.pop()},{}],MKCryptoUtils:[function(t,e,o){"use strict";cc._RF.push(e,"1ff71vS4J1NA7ytlCGJPgtt","MKCryptoUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.CryptoUtils=void 0;var n=function(){function t(){}return t.md5=function(t){return CryptoJS.MD5(t).toString()},t.base64Encode=function(t){var e=CryptoJS.enc.Utf8.parse(t);return CryptoJS.enc.Base64.stringify(e)},t.base64Decode=function(t){return CryptoJS.enc.Base64.parse(t).toString(CryptoJS.enc.Utf8)},t}();o.CryptoUtils=n,cc._RF.pop()},{}],MKHttp:[function(t,e,o){"use strict";cc._RF.push(e,"0073dUDVQRAsofk0kRCNO0I","MKHttp"),Object.defineProperty(o,"__esModule",{value:!0}),o.Http=void 0;var n=function(){function t(){}return t.formatParams=function(t){var e="",o=!1;for(var n in t)o?e+="&":o=!0,e+=n+"="+t[n];return e},t.get=function(e,o,n,r){void 0===r&&(r=t.ContentType.Form);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<400){var t={};if(""!=i.responseText)try{t=JSON.parse(i.responseText)}catch(o){cc.log("http get result parse failed! url = %s",e)}n(!0,t)}else cc.log("http get error! code = %s, url = %s",i.status,e),n(!1,null)},i.onerror=function(){cc.log("http get error! url = %s",e),n(!1,null)},i.ontimeout=function(){cc.log("http get timeout! url = %s",e),n(!1,null)},r==t.ContentType.Json?(i.open("GET",e,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.send(o?JSON.stringify(o):null)):(o&&(e+="?"+t.formatParams(o)),i.open("GET",e,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send())},t.post=function(e,o,n,r){void 0===r&&(r=t.ContentType.Form);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<400){var t={};if(""!=i.responseText)try{t=JSON.parse(i.responseText)}catch(o){cc.log("http post result parse failed! url = %s",e)}n(!0,t)}else cc.log("http post error! code = %s, url = %s",i.status,e),n(!1,null)},i.onerror=function(){cc.log("http post error! url = %s",e),n(!1,null)},i.ontimeout=function(){cc.log("http post timeout! url = %s",e),n(!1,null)},i.open("POST",e,!0),r==t.ContentType.Json?(i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.send(o?JSON.stringify(o):null)):(i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(o?t.formatParams(o):null))},t.delete=function(e,o,n,r){void 0===r&&(r=t.ContentType.Form);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<400){var t={};if(""!=i.responseText)try{t=JSON.parse(i.responseText)}catch(o){cc.log("http delete result parse failed! url = %s",e)}n(!0,t)}else cc.log("http delete error! code = %s, url = %s",i.status,e),n(!1,null)},i.onerror=function(){cc.log("http delete error! url = %s",e),n(!1,null)},i.ontimeout=function(){cc.log("http delete timeout! url = %s",e),n(!1,null)},r==t.ContentType.Json?(i.open("DELETE",e,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.send(o?JSON.stringify(o):null)):(o&&(e+="?"+t.formatParams(o)),i.open("DELETE",e,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send())},t.ContentType={Form:1,Json:2},t}();o.Http=n,cc._RF.pop()},{}],MKImageDownloader:[function(t,e,o){"use strict";cc._RF.push(e,"4919aB9yv1POaDSwtAZW/Qh","MKImageDownloader"),Object.defineProperty(o,"__esModule",{value:!0}),o.imageDowloader=o.ImageDownloader=void 0;var n=t("./MKCryptoUtils"),r=function(){function t(){this.m_observers=null,this.m_observers=[]}return t.prototype.loadUrl=function(t,e){for(var o=!1,n=0,r=this.m_observers.length;n<r;++n){var i=this.m_observers[n];if(t==i.url){i.callback.push(e),o=!0;break}}o||(this.m_observers.push({url:t,callback:[e]}),this.downloadImage(t))},t.prototype.onDownloadImage=function(t,e){for(var o=this.m_observers.length-1;o>=0;--o){var n=this.m_observers[o];if(t==n.url){for(var r=n.callback,i=0;i<r.length;++i)r[i](t,e);this.m_observers.splice(o,1);break}}},t.prototype.downloadImage=function(t){var e=jsb.fileUtils.getWritablePath()+"net_image/",o=e+n.CryptoUtils.md5(t)+".jpg";if(jsb.fileUtils.isFileExist(o))this.onDownloadImage(t,o);else{jsb.fileUtils.isDirectoryExist(e)||jsb.fileUtils.createDirectory(e);var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status?this.saveFile(t,o,r.response):cc.log("Remote download file failed."))}.bind(this),r.responseType="arraybuffer",r.open("GET",t,!0),r.send()}},t.prototype.saveFile=function(t,e,o){jsb.fileUtils.writeDataToFile(new Uint8Array(o),e)?this.onDownloadImage(t,e):cc.log("Remote write file failed.")},t.prototype.clearCache=function(){var t=jsb.fileUtils.getWritablePath()+"net_image/";jsb.fileUtils.listFiles(t).length>100&&jsb.fileUtils.removeDirectory(t)},t}();o.ImageDownloader=r,o.imageDowloader=new r,cc._RF.pop()},{"./MKCryptoUtils":"MKCryptoUtils"}],MKIndex:[function(t,e,o){"use strict";cc._RF.push(e,"0f526BZPmpBr7wVUh62Ltxm","MKIndex");var n=this&&this.__createBinding||(Object.create?function(t,e,o,n){void 0===n&&(n=o),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,n){void 0===n&&(n=o),t[n]=e[o]}),r=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||n(e,t,o)};Object.defineProperty(o,"__esModule",{value:!0}),r(t("./Common/MKCryptoUtils"),o),r(t("./Common/MKLocalLang"),o),r(t("./Common/MKSystem"),o),r(t("./Common/MKUtils"),o),r(t("./Common/MKImageDownloader"),o),r(t("./Common/MKAudioEngine"),o),r(t("./Common/HeartBeatHandler"),o),r(t("./Event/MKCommandCenter"),o),r(t("./Event/MKNoticeCenter"),o),r(t("./Event/MKActionQueue"),o),r(t("./Network/MKHttp"),o),r(t("./Network/MKSocket"),o),cc._RF.pop()},{"./Common/HeartBeatHandler":"HeartBeatHandler","./Common/MKAudioEngine":"MKAudioEngine","./Common/MKCryptoUtils":"MKCryptoUtils","./Common/MKImageDownloader":"MKImageDownloader","./Common/MKLocalLang":"MKLocalLang","./Common/MKSystem":"MKSystem","./Common/MKUtils":"MKUtils","./Event/MKActionQueue":"MKActionQueue","./Event/MKCommandCenter":"MKCommandCenter","./Event/MKNoticeCenter":"MKNoticeCenter","./Network/MKHttp":"MKHttp","./Network/MKSocket":"MKSocket"}],MKLocalLang:[function(t,e,o){"use strict";cc._RF.push(e,"26623qYW/1OJ7PqJm16Um6d","MKLocalLang"),Object.defineProperty(o,"__esModule",{value:!0}),o.LocalLang=void 0;var n=function(){function t(){}return t.checkInit=function(){this.language||this.setLanguage("en")},t.setLanguage=function(t){this.language!==t&&(this.language=t,this.reloadLabel(),this.reloadSprite())},t.getLanguage=function(){return this.language},t._addOrDelLabel=function(t,e){if(e)this.labelArr.push(t);else{var o=this.labelArr.indexOf(t);-1!==o&&this.labelArr.splice(o,1)}},t.get=function(t,e){if(this.checkInit(),null==e||0===e.length)return this.labelData[t]||t;for(var o=this.labelData[t]||t,n=0;n<e.length;n++){var r=new RegExp("#"+n,"g");o=o.replace(r,e[n])}return o},t._addOrDelSprite=function(t,e){if(e)this.spriteArr.push(t);else{var o=this.spriteArr.indexOf(t);-1!==o&&this.spriteArr.splice(o,1)}},t._getSprite=function(t,e){this.checkInit(),cc.resources.load("i18n/sprite/"+this.language+"/"+t,cc.SpriteFrame,function(t,o){if(t)return e(null);e(o)})},t.reloadLabel=function(){var t=this,e="i18n/label/"+this.language;cc.resources.load(e,function(e,o){e?(console.error(e),t.labelData={}):t.labelData=o.json;for(var n=0,r=t.labelArr;n<r.length;n++)r[n]._resetValue()})},t.reloadSprite=function(){for(var t=0,e=this.spriteArr;t<e.length;t++)e[t]._resetValue()},t.language="",t.labelArr=[],t.labelData={},t.spriteArr=[],t}();o.LocalLang=n,cc._RF.pop()},{}],MKNoticeCenter:[function(t,e,o){"use strict";cc._RF.push(e,"79a78Glip9HQ5SpEWfy23e+","MKNoticeCenter"),Object.defineProperty(o,"__esModule",{value:!0}),o.onNotice=o.noticeCenter=o.NoticeCenter=o.createNotice=void 0;var n=0;o.createNotice=function(t){t.Type="Notice"+n++,t.prototype.getType=function(){return t.Type}};var r=function(){function t(){this.m_eventTarget=new cc.EventTarget}return t.prototype.on=function(t,e,o){this.m_eventTarget.on(t.Type,e,o)},t.prototype.off=function(t,e,o){this.m_eventTarget.off(t.Type,e,o)},t.prototype.registAllNotice=function(t){if(t.noticeList)for(var e=0,o=t.noticeList;e<o.length;e++){var n=o[e];this.on(n.notice,t[n.methodName],t)}},t.prototype.targetOff=function(t){this.m_eventTarget.targetOff(t)},t.prototype.emit=function(t){this.m_eventTarget.emit(t.getType(),t)},t}();o.NoticeCenter=r,o.noticeCenter=new r,o.onNotice=function(t){return function(e,o){e.noticeList||(e.noticeList=[]),e.noticeList.push({notice:t,methodName:o})}},cc._RF.pop()},{}],MKSocket:[function(t,e,o){"use strict";cc._RF.push(e,"9629bn3i9BIyKAXnP94lWgi","MKSocket"),Object.defineProperty(o,"__esModule",{value:!0}),o.onMsg=o.Socket=void 0;var n=function(){function t(){this.m_socket=null,this.m_eventTarget=new cc.EventTarget,this.m_connected=!1}return t.prototype.connect=function(){},t.prototype.disconnect=function(){this.m_connected=!1},t.prototype.isConnected=function(){return this.m_socket&&this.m_connected},t.prototype.send=function(){},t.prototype.on=function(t,e,o){this.m_eventTarget.on(t.toString(),e,o)},t.prototype.off=function(t,e,o){this.m_eventTarget.off(t.toString(),e,o)},t.prototype.registAllMsg=function(t){if(t.msgList)for(var e=0,o=t.msgList;e<o.length;e++){var n=o[e];this.on(n.msgID,t[n.methodName],t)}},t.prototype.targetOff=function(t){this.m_eventTarget.targetOff(t)},t.prototype.onConnect=function(e){this.m_connected=!0,this.m_eventTarget.emit(t.Connect,this,e)},t.prototype.onMessage=function(e){this.m_eventTarget.emit(t.Message,this,e),this.m_eventTarget.hasEventListener(e.msgID)?this.m_eventTarget.emit(e.msgID,e):cc.log("MKSocket err : no socket message handler, messageID = "+e.msgID)},t.prototype.onError=function(e){this.m_eventTarget.emit(t.Error,this,e),this.disconnect(),this.m_connected=!1},t.prototype.onClose=function(e){this.m_eventTarget.emit(t.Close,this,e),this.disconnect(),this.m_connected=!1},t.Connect="Connect",t.Close="Close",t.Error="Error",t.Message="Message",t}();o.Socket=n,o.onMsg=function(t){return function(e,o){e.msgList||(e.msgList=[]),e.msgList.push({msgID:t,methodName:o})}},cc._RF.pop()},{}],MKSystem:[function(t,e,o){"use strict";cc._RF.push(e,"a872ajJ9cJIZJgRz4rujdNB","MKSystem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.system=o.System=void 0;var i=function(){function t(){}return t.prototype.getVersion=function(){return""},t.prototype.getVersionCode=function(){return 1},t.prototype.getPackageName=function(){return""},t.prototype.getMetaData=function(){return""},t.prototype.getDeviceID=function(){return""},t.prototype.getLocation=function(){return""},t.prototype.getChannelID=function(){return""},t.prototype.copyStrToClipboard=function(){},t.prototype.getFileMD5=function(){return""},t.prototype.getPlatform=function(){return cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?cc.sys.OS_ANDROID:cc.sys.os==cc.sys.OS_IOS?cc.sys.OS_IOS:"Web":"Web"},t.prototype.getWakeUpData=function(){return""},t.prototype.shareText=function(){},t.prototype.shareInWhatsApp=function(){},t}();o.System=i;var a,c=function(t){function e(){var e=t.call(this)||this;e.version="",e.versionCode=1,e.packageName="",e.channelID="",e.version=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getVersion","()Ljava/lang/String;"),e.packageName=jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getPackageName","()Ljava/lang/String;"),e.channelID=e.getMetaData("APP_CHANNEL");try{e.versionCode=jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getVersionCode","()J")}catch(o){}return e}return r(e,t),e.prototype.getVersion=function(){return this.version},e.prototype.getVersionCode=function(){return this.versionCode},e.prototype.getPackageName=function(){return this.packageName},e.prototype.getDeviceModel=function(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getDeviceModel","()Ljava/lang/String;")},e.prototype.getSystemVersion=function(){return jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper","getSystemVersion","()Ljava/lang/String;")},e.prototype.getMetaData=function(t){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getMetaData","(Ljava/lang/String;)Ljava/lang/String;",t)},e.prototype.getDeviceID=function(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getDeviceID","()Ljava/lang/String;")},e.prototype.getLocation=function(){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getLocation","()Ljava/lang/String;")},e.prototype.getChannelID=function(){return this.channelID},e.prototype.copyStrToClipboard=function(t){jsb.reflection.callStaticMethod("com/mk/common/MKSystem","copyStrToClipboard","(Ljava/lang/String;)V",t)},e.prototype.getFileMD5=function(t){return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getFileMD5","(Ljava/lang/String;)Ljava/lang/String;",t)},e.prototype.getWakeUpData=function(){return this.getVersionCode()<43?"":jsb.reflection.callStaticMethod("com/mk/common/MKSystem","getWakeUpData","()Ljava/lang/String;")},e.prototype.shareText=function(t,e){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareText","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},e.prototype.shareInWhatsApp=function(t){if(!(this.getVersionCode()<50))return jsb.reflection.callStaticMethod("com/mk/common/MKSystem","shareToApp","(Ljava/lang/String;Ljava/lang/String;)V","com.whatsapp",t)},e}(i),s=function(t){function e(){var e=t.call(this)||this;return e.version="",e.packageName="",e.channelID="",e.version=jsb.reflection.callStaticMethod("MKSystem","getAppVersion"),e.packageName=jsb.reflection.callStaticMethod("MKSystem","getPackageName"),e.channelID=e.getMetaData("APP_CHANNEL"),e}return r(e,t),e.prototype.getVersion=function(){return this.version},e.prototype.getPackageName=function(){return this.packageName},e.prototype.getMetaData=function(t){return jsb.reflection.callStaticMethod("MKSystem","getMetaData:",t)},e.prototype.getDeviceID=function(){return jsb.reflection.callStaticMethod("MKSystem","getDeviceID")},e.prototype.getChannelID=function(){return this.channelID},e.prototype.copyStrToClipboard=function(t){jsb.reflection.callStaticMethod("MKSystem","copyStrToClipboard:",t)},e.prototype.getFileMD5=function(t){return jsb.reflection.callStaticMethod("MKSystem","getFileMD5:",t)},e}(i),l=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.getVersion=function(){return"1.0.0"},e.prototype.getVersionCode=function(){return 1},e.prototype.getPackageName=function(){return"com.kbsgame.teenpatti"},e.prototype.getDeviceModel=function(){return""},e.prototype.getSystemVersion=function(){return""},e.prototype.getMetaData=function(){return""},e.prototype.getLocation=function(){return""},e.prototype.getDeviceID=function(){return this.genMacFack()},e.prototype.getChannelID=function(){return"KBS"},e.prototype.genMacFack=function(){var t=cc.sys.localStorage.getItem("macFack");if(t)return t;t="";for(var e=0;e<6;e++){for(var o="",n=0;n<2;n++)o+="0123456789abcdef"[Math.ceil(15*Math.random())];t+=t?":"+o:o}return cc.sys.localStorage.setItem("macFack",t),t},e}(i);a=cc.sys.isNative?cc.sys.os==cc.sys.OS_ANDROID?new c:cc.sys.os==cc.sys.OS_IOS?new s:new l:new l,o.system=a,cc._RF.pop()},{}],MKUtils:[function(t,e,o){"use strict";cc._RF.push(e,"67818ViSbNBt7n0lfXcd04e","MKUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var n=function(){function t(){}return t.randRange=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.strMaxCut=function(t,e){for(var o="",n=0,r=0;r<t.length;r++){var i=t[r];i.charCodeAt(0)>255?n+=2:n++,n<=e&&(o+=i)}return n>e?o+"...":o},t.dateFormat=function(t,e){var o,n=new Date(e),r={"Y+":n.getFullYear().toString(),"m+":(n.getMonth()+1).toString(),"d+":n.getDate().toString(),"H+":n.getHours().toString(),"M+":n.getMinutes().toString(),"S+":n.getSeconds().toString()};for(var i in r)(o=new RegExp("("+i+")").exec(t))&&(t=t.replace(o[1],1==o[1].length?r[i]:r[i].padStart(o[1].length,"0")));return t},t.getUrlParams=function(){if(cc.sys.isNative)return{};var e=window.location.search;return t.parseUrlParams(e)},t.parseUrlParams=function(t){var e={},o=t.indexOf("?");if(-1!=o)for(var n=t.substr(o+1).split("&"),r=0;r<n.length;r++)e[n[r].split("=")[0]]=n[r].split("=")[1];return e},t.resize=function(){var t=cc.find("Canvas").getComponent(cc.Canvas);this.curDR||(this.curDR=t.designResolution);var e=this.curDR,o=cc.view.getFrameSize(),n=o.width,r=o.height,i=n,a=r;n/r>e.width/e.height?i=(a=e.height)*n/r:a=r/n*(i=e.width),t.designResolution=cc.size(i,a),t.node.width=i,t.node.height=a,t.node.emit("resize")},t.maxCountElement=function(t){for(var e={},o=0;o<t.length;o++)e[a=t[o]]?e[a]++:e[a]=1;var n=0,r=[],i=[];for(var a in e)n<e[a]?(n=e[a],r[0]=a,i.length=0):n===e[a]&&i.push(a);if(i.length>0)for(var c=0;c<i.length;c++)r.push(i[c]);return r},t.isEmail=function(t){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(t)},t.isPhone=function(t){return/^(\d*)$/.test(t)},t.isUserName=function(t){return/^[A-Za-z0-9][A-Za-z0-9\s]*[A-Za-z0-9]$/.test(t)},t.curDR=null,t}();o.Utils=n,cc._RF.pop()},{}],MenuLayer:[function(t,e,o){"use strict";cc._RF.push(e,"0de2b6hsk5OQo/U/taIk3GO","MenuLayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../MobileKit/MKIndex"),c=t("./Common/PopupBase"),s=t("./Common/PopupManager"),l=t("../Business/Data/CommonDefine"),u=t("../Business/Data/SaveDataManager"),p=cc._decorator,d=p.ccclass,f=p.property,h=(p.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg_layer=null,e.animationDuration=0,e.btnHelp=null,e.btnRecord=null,e.imgMusic=null,e.imgSound=null,e.imgMusicOn=null,e.imgMusicOff=null,e.imgSoundOn=null,e.imgSoundOff=null,e.musicOn=!1,e.soundOn=!1,e}return r(e,t),Object.defineProperty(e,"path",{get:function(){return"Scenes/Game/menu_layer"},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.main||(this.main=this.node),this.btnHelp.on(cc.Node.EventType.TOUCH_END,this.onTouchHelp,this),this.btnRecord.on(cc.Node.EventType.TOUCH_END,this.onTouchRecord,this),this.musicOn=u.default.getMusicEnable(),this.soundOn=u.default.getEffectEnable(),this.imgMusic.spriteFrame=this.musicOn?this.imgMusicOn:this.imgMusicOff,this.imgSound.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff},e.prototype.onTouchClose=function(){this.hide()},e.prototype.onTouchHelp=function(){s.default.show(l.PrefabList.HelpLayer),this.hide()},e.prototype.onTouchRecord=function(){s.default.show(l.PrefabList.GameRecordLayer),this.hide()},e.prototype.onTouchMusic=function(){this.musicOn=!this.musicOn,this.imgMusic.spriteFrame=this.musicOn?this.imgMusicOn:this.imgMusicOff,u.default.setMusicEnable(this.musicOn),a.AudioEngine.setMusicEnabled(this.musicOn)},e.prototype.onTouchSound=function(){this.soundOn=!this.soundOn,this.imgSound.spriteFrame=this.soundOn?this.imgSoundOn:this.imgSoundOff,u.default.setEffectEnable(this.soundOn),a.AudioEngine.setEffectsEnabled(this.soundOn),a.AudioEngine.playEffect(l.SoundList.Click)},e.prototype.playShowAnimation=function(){},i([f({type:cc.Sprite,displayName:""})],e.prototype,"bg_layer",void 0),i([f(cc.Node)],e.prototype,"btnHelp",void 0),i([f(cc.Node)],e.prototype,"btnRecord",void 0),i([f(cc.Sprite)],e.prototype,"imgMusic",void 0),i([f(cc.Sprite)],e.prototype,"imgSound",void 0),i([f(cc.SpriteFrame)],e.prototype,"imgMusicOn",void 0),i([f(cc.SpriteFrame)],e.prototype,"imgMusicOff",void 0),i([f(cc.SpriteFrame)],e.prototype,"imgSoundOn",void 0),i([f(cc.SpriteFrame)],e.prototype,"imgSoundOff",void 0),i([d],e)}(c.default));o.default=h,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","../Business/Data/SaveDataManager":"SaveDataManager","../MobileKit/MKIndex":"MKIndex","./Common/PopupBase":"PopupBase","./Common/PopupManager":"PopupManager"}],MessageView:[function(t,e,o){"use strict";cc._RF.push(e,"37274+ofVBHI44C43AEa8uA","MessageView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgBg=null,e.text=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){},e.prototype.animate=function(t){var e=this;void 0===t&&(t=2),this.node.stopAllActions(),cc.tween(this.node).delay(t).call(function(){e.node.removeFromParent()}).start()},e.prototype.show=function(t,e){this.text.string=t,this.animate(e)},e.show=function(t,e){if(null==o.defaultSkin){var n=cc.resources.get("Scenes/Common/MessageView",cc.Prefab);if(null==n)return void cc.log("Please init MessageView defaultSkin on app init");o.defaultSkin=n}o.showWithFile(o.defaultSkin,t,e)},e.showWithFile=function(t,e,n){null==o.g_persistRootNode&&(o.g_persistRootNode=new cc.Node,o.g_persistRootNode.width=cc.winSize.width,o.g_persistRootNode.height=cc.winSize.height,o.g_persistRootNode.x=cc.winSize.width/2,o.g_persistRootNode.y=cc.winSize.height/2,cc.game.addPersistRootNode(o.g_persistRootNode)),(o.g_persistRootNode.width<cc.winSize.width||o.g_persistRootNode.height<cc.winSize.height)&&(o.g_persistRootNode.width=cc.winSize.width,o.g_persistRootNode.height=cc.winSize.height,o.g_persistRootNode.x=cc.winSize.width/2,o.g_persistRootNode.y=cc.winSize.height/2);var r=o.g_persistRootNode,i=null,a=r.getChildByName("MessageView");null==a?((i=cc.instantiate(t).getComponent(o)).node.name="MessageView",i.node.x=cc.winSize.width/2,i.node.y=cc.winSize.height/2,r.addChild(i.node)):i=a.getComponent(o),i.show(e,n)},e.defaultSkin=null,e.g_persistRootNode=null,i([s(cc.Sprite)],e.prototype,"imgBg",void 0),i([s(cc.Label)],e.prototype,"text",void 0),o=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],NetworkConstants:[function(t,e,o){"use strict";cc._RF.push(e,"da62dei+L1GTYR246XHPqwJ","NetworkConstants"),Object.defineProperty(o,"__esModule",{value:!0}),o.MsgCBNtf=o.MsgCBAck=o.MsgCBReq=o.MsgCB=o.MsgBaseNtf=o.MsgBaseAck=o.MsgBaseReq=o.MsgBase=o.MsgNtfMark=o.MsgAckMark=o.MsgTypeMark=o.MsgModeMark=o.MsgCodeOK=void 0,o.MsgCodeOK=200,o.MsgModeMark=1e6,o.MsgTypeMark=1e4,o.MsgAckMark=2*o.MsgTypeMark,o.MsgNtfMark=3*o.MsgTypeMark,o.MsgBase=1*o.MsgModeMark,o.MsgBaseReq=o.MsgBase,o.MsgBaseAck=o.MsgBase+o.MsgAckMark,o.MsgBaseNtf=o.MsgBase+o.MsgNtfMark,o.MsgCB=2*o.MsgModeMark,o.MsgCBReq=o.MsgCB,o.MsgCBAck=o.MsgCB+o.MsgAckMark,o.MsgCBNtf=o.MsgCB+o.MsgNtfMark,cc._RF.pop()},{}],NetworkController:[function(t,e,o){"use strict";cc._RF.push(e,"56f188UTbdI+qVXVv/UcjG4","NetworkController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.NetworkController=o.CmdTokenLogin=o.CmdGetServerConfig=void 0;var a=t("../../MobileKit/MKIndex"),c=t("../../Business/Data/ConfigManager"),s=t("../../Business/Data/DataManager"),l=t("../NetWork/NetworkConstants"),u=t("../NetWork/NetworkManager"),p=t("./NetworkNotice"),d=function(){function t(){}return i([a.createCommand],t)}();o.CmdGetServerConfig=d;var f=function(){function t(){}return i([a.createCommand],t)}();o.CmdTokenLogin=f;var h=function(t){function e(){var e=t.call(this)||this;return e.m_socket=null,e.setName("NetworkController"),a.noticeCenter.registAllNotice(e),a.commandCenter.registAllCommand(e),e.m_socket=u.default.getInstance().getCommonSocket(),e.m_socket.registAllMsg(e),e.m_heartBeatHandler=new a.HeartBeatHandler,e.m_heartBeatHandler.logName="[Socket]",e.m_heartBeatHandler.idle=10,e.m_heartBeatHandler.idleCallBack=e.sendIdle.bind(e),e.m_heartBeatHandler.timeOutCallBack=e.onHeartBeatTimeOut.bind(e),e}return r(e,t),e.prototype.onExit=function(){a.noticeCenter.targetOff(this),a.commandCenter.targetOff(this),this.m_socket.targetOff(this)},e.prototype.onCmdGetServerConfig=function(){var t=c.default.urlConfig.base+"getconfig",e={};e.channel=a.system.getChannelID(),e.package=a.system.getPackageName(),e.version=a.system.getVersion(),e.deviceid=a.system.getDeviceID(),cc.log("getconfig params = "+JSON.stringify(e)),a.Http.get(t,e,this.onSetting.bind(this))},e.prototype.onSetting=function(t,e){t&&(cc.log("getconfig result = ",JSON.stringify(e)),200==e.code&&s.default.homeData.setChipsUnit(e.chipUnit))},e.prototype.onCmdTokenLogin=function(){var t=c.default.urlConfig.base+"checktoken",e={};e.channel=a.system.getChannelID(),e.package=a.system.getPackageName(),e.version=a.system.getVersion(),e.deviceid=a.system.getDeviceID(),e.devicetype=a.system.getPlatform(),e.token=s.default.userData.getCert(),cc.log("checktoken params = "+JSON.stringify(e)),a.Http.post(t,e,this.onNetTokenLogin.bind(this))},e.prototype.onNetTokenLogin=function(t,e){t&&(cc.log("checktoken result = "+JSON.stringify(e)),200==e.code)&&(s.default.userData,this.setUserData(e))},e.prototype.setUserData=function(){s.default.userData,s.default.homeData.setWs("ws://3.7.71.202:9002/"),this.connectServer()},e.prototype.connectServer=function(){s.default.homeData.getWs(),cc.log("[Socket] connect server ip = %s",""),this.m_socket.connect("")},e.prototype.onConnect=function(){cc.log("[Socket] connect server success!"),cc.log("[send] Token ="+JSON.stringify(void 0)),this.m_socket.send(l.MsgBaseReq+"AckToken",void 0)},e.prototype.onNetAckToken=function(t){if(cc.log("[receive] TokenRsp code = "+t.state.code),t.state.code!=l.MsgCodeOK)return cc.log("Rsp info = "+t.state.info),void a.noticeCenter.emit(new p.NtcLogin(2));var e=t.body;cc.log("TokenRsp = "+JSON.stringify(e)),s.default.userData.setLogined(!0),this.m_heartBeatHandler.startIdle()},e.prototype.onMessage=function(){this.m_heartBeatHandler.onReceiveHeartBeat()},e.prototype.sendIdle=function(){},e.prototype.onHeartBeatTimeOut=function(){cc.log("[Socket] onHeartBeatTimeOut"),this.onServerDisconnect()},e.prototype.onNetAckHeart=function(){this.m_heartBeatHandler.onReceiveHeartBeat()},e.prototype.onServerDisconnect=function(){this.m_heartBeatHandler.stopIdle(),this.m_socket.disconnect(),s.default.userData.setLogined(!1)},e.prototype.onNtcTestWebSocket=function(){this.connectServer()},i([a.onCommand(d)],e.prototype,"onCmdGetServerConfig",null),i([a.onCommand(f)],e.prototype,"onCmdTokenLogin",null),i([a.onMsg(a.Socket.Connect)],e.prototype,"onConnect",null),i([a.onMsg(l.MsgBaseAck+"AckToken")],e.prototype,"onNetAckToken",null),i([a.onMsg(a.Socket.Message)],e.prototype,"onMessage",null),i([a.onMsg(l.MsgBaseAck)],e.prototype,"onNetAckHeart",null),i([a.onNotice(p.NtcTestWebSocket)],e.prototype,"onNtcTestWebSocket",null),e}(a.Controller);o.NetworkController=h,cc._RF.pop()},{"../../Business/Data/ConfigManager":"ConfigManager","../../Business/Data/DataManager":"DataManager","../../MobileKit/MKIndex":"MKIndex","../NetWork/NetworkConstants":"NetworkConstants","../NetWork/NetworkManager":"NetworkManager","./NetworkNotice":"NetworkNotice"}],NetworkManager:[function(t,e,o){"use strict";cc._RF.push(e,"b125cJFubBNx5GHw/6uO4pH","NetworkManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameSocket"),r=function(){function t(){this.m_commonSocket=new n.default}return t.prototype.getCommonSocket=function(){return this.m_commonSocket},t.sharedManager=null,t.getInstance=function(){return null===t.sharedManager&&(t.sharedManager=new t),t.sharedManager},t}();o.default=r,cc._RF.pop()},{"./GameSocket":"GameSocket"}],NetworkNotice:[function(t,e,o){"use strict";cc._RF.push(e,"dcce6iOurFKsYzb0t5YwJu5","NetworkNotice");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.NtcTestWebSocket=o.NtcGetServerConfig=o.NtcDisconnect=o.NtcLogin=void 0;var r=t("../../MobileKit/MKIndex"),i=function(){function t(t){this.result=t}return n([r.createNotice],t)}();o.NtcLogin=i;var a=function(){function t(t){this.reason=t}return n([r.createNotice],t)}();o.NtcDisconnect=a;var c=function(){function t(){}return n([r.createNotice],t)}();o.NtcGetServerConfig=c;var s=function(){function t(){}return n([r.createNotice],t)}();o.NtcTestWebSocket=s,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex"}],PaytableLayer:[function(t,e,o){"use strict";cc._RF.push(e,"d7eb0s+xJhFcZNoWpGlXYfD","PaytableLayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Common/PopupBase"),c=cc._decorator,s=c.ccclass,l=(c.property,c.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animationDuration=0,e}return r(e,t),Object.defineProperty(e,"path",{get:function(){return"Scenes/Game/paytable_larer"},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.main||(this.main=this.node)},e.prototype.onTouchClose=function(){this.hide()},i([s],e)}(a.default));o.default=l,cc._RF.pop()},{"./Common/PopupBase":"PopupBase"}],PokerData:[function(t,e,o){"use strict";var n,r;cc._RF.push(e,"49959S7SupJO7nuVF1YYdst","PokerData"),Object.defineProperty(o,"__esModule",{value:!0}),o.PokerData=o.PokerRedJoker=o.PokerBlackJoker=o.PokerCount=o.PokerPointCount=o.PokerPoint=o.PokerColor=void 0,function(t){t[t.Diamond=0]="Diamond",t[t.Club=1]="Club",t[t.Heart=2]="Heart",t[t.Spade=3]="Spade",t[t.Joker=4]="Joker"}(n=o.PokerColor||(o.PokerColor={})),function(t){t[t.PointA=0]="PointA",t[t.Point2=1]="Point2",t[t.Point3=2]="Point3",t[t.Point4=3]="Point4",t[t.Point5=4]="Point5",t[t.Point6=5]="Point6",t[t.Point7=6]="Point7",t[t.Point8=7]="Point8",t[t.Point9=8]="Point9",t[t.Point10=9]="Point10",t[t.PointJ=10]="PointJ",t[t.PointQ=11]="PointQ",t[t.PointK=12]="PointK",t[t.Joker=13]="Joker"}(r=o.PokerPoint||(o.PokerPoint={})),o.PokerPointCount=13,o.PokerCount=54,o.PokerBlackJoker=52,o.PokerRedJoker=53;var i=function(){function t(){this.color=0,this.point=-1,this.code=-1,this.color=0,this.point=-1,this.code=-1}return t.prototype.init=function(e){this.code=e,this.point=t.getPokerPoint(e),this.color=t.getPokerColor(e)},t.prototype.getPoint=function(){return this.point},t.prototype.getColor=function(){return this.color},t.prototype.getCode=function(){return this.code},t.getPokerPoint=function(e){return t.isJoker(e)?r.Joker:(e%=o.PokerCount)%o.PokerPointCount},t.getPokerColor=function(e){return t.isJoker(e)?n.Joker:(e%=o.PokerCount,Math.floor(e/o.PokerPointCount))},t.isJoker=function(t){return(t%=o.PokerCount)==o.PokerBlackJoker||t==o.PokerRedJoker},t}();o.PokerData=i,cc._RF.pop()},{}],PokerNode:[function(t,e,o){"use strict";cc._RF.push(e,"63e095MnllNM6rVQopCo5Uy","PokerNode");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Business/Data/PokerData"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=function(t){function e(){var e=t.call(this)||this;return e.upNumber=null,e.upImage=null,e.imgPokerBK=null,e.middleImage=null,e.bgShadow=null,e.poker=new a.PokerData,e}return r(e,t),e.prototype.setPoker=function(t){this.poker.init(t),this.makePoker()},e.prototype.getPokerData=function(){return this.poker},e.prototype.makePoker=function(){var t=this.poker.getCode(),e=this.poker.getPoint(),o=this.poker.getColor();this.imgPokerBK.node.color=cc.Color.WHITE,this.bgShadow.node.active=!0,t<0?(this.upNumber.node.active=!1,this.upImage.node.active=!1,this.middleImage.node.active=!1,this.bgShadow.node.active=!1,-2==t?(this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/poker_bg",cc.SpriteFrame),this.imgPokerBK.node.color=(new cc.Color).fromHEX("3f3f3d")):this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/poker_back",cc.SpriteFrame)):a.PokerData.isJoker(t)?(this.upNumber.node.active=!1,this.upImage.node.active=!1,this.middleImage.node.active=!1,this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/joker_big",cc.SpriteFrame)):e>=10?this.makeFaceCard(e,o):this.makeNormalPoker(e,o)},e.prototype.makeNormalPoker=function(t,e){var o="";switch(t){case a.PokerPoint.PointA:o="1";break;case a.PokerPoint.Point2:o="2";break;case a.PokerPoint.Point3:o="3";break;case a.PokerPoint.Point4:o="4";break;case a.PokerPoint.Point5:o="5";break;case a.PokerPoint.Point6:o="6";break;case a.PokerPoint.Point7:o="7";break;case a.PokerPoint.Point8:o="8";break;case a.PokerPoint.Point9:o="9";break;case a.PokerPoint.Point10:o="10"}var n="",r="";switch(e){case a.PokerColor.Spade:n=cc.js.formatStr("clubs_%s",o),r="spades_down";break;case a.PokerColor.Heart:n=cc.js.formatStr("diamonds_%s",o),r="hearts_down";break;case a.PokerColor.Club:n=cc.js.formatStr("clubs_%s",o),r="clubs_down";break;case a.PokerColor.Diamond:n=cc.js.formatStr("diamonds_%s",o),r="diamonds_down"}this.upNumber.node.active=!0,this.upImage.node.active=!0,this.middleImage.node.active=!0,this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/poker_bg",cc.SpriteFrame),this.upNumber.spriteFrame=cc.resources.get("Texture/Game/Poker/"+n,cc.SpriteFrame),this.upImage.spriteFrame=cc.resources.get("Texture/Game/Poker/"+r,cc.SpriteFrame),this.middleImage.spriteFrame=cc.resources.get("Texture/Game/Poker/"+r,cc.SpriteFrame),t==a.PokerPoint.Point10?this.upNumber.node.scaleX=1.666:this.upNumber.node.scaleX=1},e.prototype.makeFaceCard=function(t,e){var o="";switch(t){case a.PokerPoint.PointJ:o="j";break;case a.PokerPoint.PointQ:o="q";break;case a.PokerPoint.PointK:o="k"}var n="";switch(e){case a.PokerColor.Spade:n="spades";break;case a.PokerColor.Heart:n="hearts";break;case a.PokerColor.Club:n="clubs";break;case a.PokerColor.Diamond:n="diamonds"}this.upNumber.node.active=!1,this.upImage.node.active=!1,this.middleImage.node.active=!1,this.imgPokerBK.spriteFrame=cc.resources.get("Texture/Game/Poker/"+o+"_"+n,cc.SpriteFrame)},i([l(cc.Sprite)],e.prototype,"upNumber",void 0),i([l(cc.Sprite)],e.prototype,"upImage",void 0),i([l(cc.Sprite)],e.prototype,"imgPokerBK",void 0),i([l(cc.Sprite)],e.prototype,"middleImage",void 0),i([l(cc.Sprite)],e.prototype,"bgShadow",void 0),i([s,u("Home/PokerNode")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Business/Data/PokerData":"PokerData"}],PopupBase:[function(t,e,o){"use strict";cc._RF.push(e,"b6107kAL7dMzqZ3iXRw2h4a","PopupBase");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{s(n.next(t))}catch(e){i(e)}}function c(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.main=null,e.animationDuration=.3,e.blocker=null,e.options=null,e.finishCallback=null,e}return r(e,t),e.prototype.show=function(t,e){return a(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return this.options=t,this.init(t),this.updateDisplay(t),this.onBeforeShow?[4,this.onBeforeShow()]:[3,2];case 1:o.sent(),o.label=2;case 2:return null==e&&(e=e<0?0:this.animationDuration),[4,this.playShowAnimation(e)];case 3:return o.sent(),this.onAfterShow&&this.onAfterShow(),[2]}})})},e.prototype.hide=function(t,e){return void 0===t&&(t=!1),a(this,void 0,void 0,function(){var o,n;return c(this,function(r){switch(r.label){case 0:return o=this.node,0!==e&&((n=this.blocker)||((n=this.blocker=new cc.Node("blocker")).addComponent(cc.BlockInputEvents),n.setParent(o),n.setContentSize(o.getContentSize())),n.active=!0),this.onBeforeHide?[4,this.onBeforeHide(t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return null==e&&(e=e<0?0:this.animationDuration),[4,this.playHideAnimation(e)];case 3:return r.sent(),this.blocker&&(this.blocker.active=!1),o.active=!1,this.onAfterHide&&this.onAfterHide(t),this.finishCallback&&this.finishCallback(t),[2]}})})},e.prototype.playShowAnimation=function(t){var e=this;return new Promise(function(o){var n=e.background,r=e.main;e.node.active=!0,n.active=!0,n.opacity=0,r.active=!0,r.scale=.5,r.opacity=0,cc.tween(n).to(.5*t,{opacity:150}).start(),cc.tween(r).to(t,{scale:1,opacity:255},{easing:"backOut"}).call(o).start()})},e.prototype.playHideAnimation=function(t){var e=this;return new Promise(function(o){cc.tween(e.background).delay(.5*t).to(.5*t,{opacity:0}).start(),cc.tween(e.main).to(t,{scale:.5,opacity:0},{easing:"backIn"}).call(o).start()})},e.prototype.init=function(){},e.prototype.updateDisplay=function(){},e.prototype.onBeforeShow=function(){return new Promise(function(t){return t()})},e.prototype.onAfterShow=function(){},e.prototype.onBeforeHide=function(){return new Promise(function(t){return t()})},e.prototype.onAfterHide=function(){},e.prototype.onSuspended=function(){return new Promise(function(t){return t()})},i([u({type:cc.Node,tooltip:!1})],e.prototype,"background",void 0),i([u({type:cc.Node,tooltip:!1})],e.prototype,"main",void 0),i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],PopupManager:[function(t,e,o){"use strict";cc._RF.push(e,"c0ea1lR4GpK0bTmoo90xNjo","PopupManager");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{s(n.next(t))}catch(e){i(e)}}function c(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i,a,c=t("./PopupBase");(function(t){t[t.Once=1]="Once",t[t.Normal=2]="Normal",t[t.Frequent=3]="Frequent"})(i||(i={})),function(t){t[t.Done=1]="Done",t[t.Failed=2]="Failed",t[t.Waiting=3]="Waiting"}(a||(a={}));var s=function(){function t(){}return Object.defineProperty(t,"prefabCache",{get:function(){return this._prefabCache},enumerable:!1,configurable:!0}),Object.defineProperty(t,"nodeCache",{get:function(){return this._nodeCache},enumerable:!1,configurable:!0}),Object.defineProperty(t,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t,"suspended",{get:function(){return this._suspended},enumerable:!1,configurable:!0}),Object.defineProperty(t,"container",{get:function(){return this._container||cc.Canvas.instance.node},set:function(t){this._container=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CacheMode",{get:function(){return i},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ShowResultType",{get:function(){return a},enumerable:!1,configurable:!0}),t.show=function(t,e,o){var i=this;return new Promise(function(s){return n(i,void 0,void 0,function(){var i,l,u,p=this;return r(this,function(d){switch(d.label){case 0:return o=this.parseParams(o),this._current||this.locked?o&&o.immediately?(this.locked=!1,[4,this.suspend()]):[3,2]:[3,3];case 1:return d.sent(),[3,3];case 2:return this.push(t,e,o),s(a.Waiting),[2];case 3:return this._current={path:t,options:e,params:o},i=this.getNodeFromCache(t),cc.isValid(i)?[3,5]:(this.loadStartCallback&&this.loadStartCallback(),[4,this.load(t)]);case 4:if(l=d.sent(),this.loadFinishCallback&&this.loadFinishCallback(),!cc.isValid(l))return cc.warn("[PopupManager]","\u5f39\u7a97\u52a0\u8f7d\u5931\u8d25",t),this._current=null,s(a.Failed),[2];i=cc.instantiate(l),d.label=5;case 5:return(u=i.getComponent(c.default))?(this._current.popup=u,this._current.node=i,i.setParent(this.container),i.setSiblingIndex(cc.macro.MAX_ZINDEX),u.finishCallback=function(e){return n(p,void 0,void 0,function(){var n=this;return r(this,function(r){switch(r.label){case 0:return e?[2]:(this.locked=this._suspended.length>0||this._queue.length>0,this.recycle(t,i,o.mode),this._current=null,s(a.Done),[4,new Promise(function(t){cc.Canvas.instance.scheduleOnce(t,n.interval)})]);case 1:return r.sent(),this.next(),[2]}})})},u.show(e),[2]):(cc.warn("[PopupManager]","\u672a\u627e\u5230\u5f39\u7a97\u7ec4\u4ef6",t),this._current=null,s(a.Failed),[2])}})})})},t.hide=function(){cc.isValid(this._current.popup)&&this._current.popup.hide()},t.getNodeFromCache=function(t){var e=this._nodeCache;if(e.has(t)){var o=e.get(t);if(cc.isValid(o))return o;e.delete(t)}var n=this._prefabCache;if(n.has(t)){var r=n.get(t);if(cc.isValid(r))return r.addRef(),cc.instantiate(r);n.delete(t)}return null},t.next=function(){if(!(this._current||0===this._suspended.length&&0===this._queue.length)){var t=null;if(t=this._suspended.length>0?this._suspended.shift():this._queue.shift(),this.locked=!1,cc.isValid(t.popup))return this._current=t,t.node.setParent(this.container),void t.popup.show(t.options);this.show(t.path,t.options,t.params)}},t.push=function(t,e,o){this._current||this.locked?(this._queue.push({path:t,options:e,params:o}),this._queue.sort(function(t,e){return t.params.priority-e.params.priority})):this.show(t,e,o)},t.suspend=function(){return n(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return this._current?(t=this._current,this._suspended.push(t),[4,t.popup.onSuspended()]):[2];case 1:return e.sent(),[4,t.popup.hide(!0)];case 2:return e.sent(),this._current=null,[2]}})})},t.recycle=function(t,e,o){switch(o){case i.Once:this._nodeCache.delete(t),e.destroy(),this.release(t);break;case i.Normal:this._nodeCache.delete(t),e.destroy();break;case i.Frequent:e.removeFromParent(!1),this._nodeCache.set(t,e)}},t.load=function(t){var e=this;return new Promise(function(o){var n=e._prefabCache;if(n.has(t)){var r=n.get(t);if(cc.isValid(r))return void o(r);n.delete(t)}cc.resources.load(t,function(e,r){e?o(null):(n.set(t,r),o(r))})})},t.release=function(t){var e=this._nodeCache,o=e.get(t);o&&(e.delete(t),cc.isValid(o)&&o.destroy(),o=null);var n=this._prefabCache,r=n.get(t);r&&(r.refCount<=1&&n.delete(t),r.decRef(),r=null)},t.parseParams=function(t){return null==t?new l:"[object Object]"!==Object.prototype.toString.call(t)?(cc.warn("[PopupManager]","\u5f39\u7a97\u53c2\u6570\u65e0\u6548\uff0c\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570"),new l):(null==t.mode&&(t.mode=i.Normal),null==t.priority&&(t.priority=0),null==t.immediately&&(t.immediately=!1),t)},t._prefabCache=new Map,t._nodeCache=new Map,t._current=null,t._queue=[],t._suspended=[],t.locked=!1,t._container=null,t.interval=.05,t.loadStartCallback=null,t.loadFinishCallback=null,t}();o.default=s;var l=function(){this.mode=i.Normal,this.priority=0,this.immediately=!1};cc._RF.pop()},{"./PopupBase":"PopupBase"}],PrefabPool:[function(t,e,o){"use strict";cc._RF.push(e,"66c96CKFiJAvYsrBV2ocv6V","PrefabPool");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,a=(r.property,function(){function t(){}return t.get=function(t,e){void 0===e&&(e=null),null==this.poolList[t]&&(this.poolList[t]=[]);var o,n=this.poolList[t];0==n.length?(o=cc.instantiate(cc.resources.get(t))).poolKey=t:o=n.pop();var r=e?o.getComponent(e):null;return r&&r.reuse&&r.reuse.apply(r,arguments),o},t.put=function(t,e){void 0===e&&(e=null);var o=this.poolList[t.poolKey];if(o&&-1==o.indexOf(t)){t.removeFromParent(!1);var n=e?t.getComponent(e):null;n&&n.unuse&&n.unuse(),o.push(t)}},t.clear=function(t){var e=this.poolList[t];if(e){for(var o=0,n=e.length;o<n;o++)e[o].destroy();e.length=0}},t.clearAll=function(){for(var t in this.poolList)this.clear(t)},t.size=function(t){var e=this.poolList[t];return e?e.length:0},t.poolList={},n([i],t)}());o.default=a,cc._RF.pop()},{}],RecordDateCell:[function(t,e,o){"use strict";cc._RF.push(e,"39291Dclg9A/YxONqagzLku","RecordDateCell");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RecordDateCell=void 0;var a=t("./Common/UIUtils"),c=t("../Business/Data/CommonDefine"),s=t("./Common/PrefabPool"),l=t("./RecordTimeCell"),u=cc._decorator,p=u.ccclass,d=u.property,f=u.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtDate=null,e.content=null,e.btnExpend=null,e.bgExpend=null,e}return r(e,t),e.prototype.onLoad=function(){a.UIUtils.NodeClickEvent(this.node,this.onTouchShow.bind(this))},e.prototype.setData=function(t,e){var o=this;this.content.removeAllChildren(),this.txtDate.string=t,e.forEach(function(t){var e=s.default.get(c.PrefabList.RecordTimeCell),n=e.getComponent(l.RecordTimeCell);e.setParent(o.content),n.setData(t)}),this.bgExpend.active=!1},e.prototype.onTouchShow=function(){this.bgExpend.active=!this.bgExpend.active},i([d(cc.Label)],e.prototype,"txtDate",void 0),i([d(cc.Node)],e.prototype,"content",void 0),i([d(cc.Node)],e.prototype,"btnExpend",void 0),i([d(cc.Node)],e.prototype,"bgExpend",void 0),i([p,f("Menu/RecordDateCell")],e)}(cc.Component);o.RecordDateCell=h,cc._RF.pop()},{"../Business/Data/CommonDefine":"CommonDefine","./Common/PrefabPool":"PrefabPool","./Common/UIUtils":"UIUtils","./RecordTimeCell":"RecordTimeCell"}],RecordTimeCell:[function(t,e,o){"use strict";cc._RF.push(e,"50ae0jkgiRBn7A6rmaiVShM","RecordTimeCell");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RecordTimeCell=void 0;var a=t("../MobileKit/MKIndex"),c=t("./Common/UIUtils"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtBet=null,e.txtTime=null,e.txtWin=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.setData=function(t){this.txtTime.string=a.Utils.dateFormat("HH:MM:SS",t.time),this.txtBet.string=c.UIUtils.getShortNumber(t.bet),t.win<=0?(this.txtWin.node.color=cc.Color.GRAY,this.txtWin.string="0"):(this.txtWin.node.color=cc.Color.RED,this.txtWin.string="+"+c.UIUtils.getShortNumber(t.win))},i([u(cc.Label)],e.prototype,"txtBet",void 0),i([u(cc.Label)],e.prototype,"txtTime",void 0),i([u(cc.Label)],e.prototype,"txtWin",void 0),i([l,p("Menu/RecordTimeCell")],e)}(cc.Component);o.RecordTimeCell=d,cc._RF.pop()},{"../MobileKit/MKIndex":"MKIndex","./Common/UIUtils":"UIUtils"}],RoundRectMask:[function(t,e,o){"use strict";cc._RF.push(e,"7bf2emIOeBGlaFdOJNgqWue","RoundRectMask");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RoundRectMask=void 0;var a=cc._decorator.property,c=cc._decorator.ccclass,s=cc._decorator.executeInEditMode,l=cc._decorator.disallowMultiple,u=cc._decorator.requireComponent,p=cc._decorator.menu;cc.macro.ENABLE_WEBGL_ANTIALIAS=!0;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._radius=50,e.mask=null,e}return r(e,t),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this.updateMask(t)},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){this.mask=this.getComponent(cc.Mask),this.updateMask(this.radius)},e.prototype.updateMask=function(t){var e=t>=0?t:0;e<1&&(e=Math.min(this.node.width,this.node.height)*e),this.mask.radius=e,this.mask.onDraw=this.onDraw.bind(this.mask),this.mask._updateGraphics=this._updateGraphics.bind(this.mask),this.mask.type=cc.Mask.Type.RECT},e.prototype._updateGraphics=function(){var t=this._graphics;t&&this.onDraw(t)},e.prototype.onDraw=function(t){t.clear(!1);var e=this.node,o=e.width,n=e.height,r=-o*e.anchorX,i=-n*e.anchorY;t.roundRect(r,i,o,n,this.radius||0),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},i([a()],e.prototype,"_radius",void 0),i([a({tooltip:"\u5706\u89d2\u534a\u5f84:\n0-1\u4e4b\u95f4\u4e3a\u6700\u5c0f\u8fb9\u957f\u6bd4\u4f8b\u503c, \n>1\u4e3a\u5177\u4f53\u50cf\u7d20\u503c"})],e.prototype,"radius",null),i([c(),s(!0),l(!0),u(cc.Mask),p("\u6e32\u67d3\u7ec4\u4ef6/\u5706\u89d2\u906e\u7f69")],e)}(cc.Component);o.RoundRectMask=d,cc._RF.pop()},{}],SaveDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"14621x/AyZOB5QNwnkCr9JK","SaveDataManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.init=function(){"1"!=cc.sys.localStorage.getItem("storageInited")&&(cc.sys.localStorage.setItem("isGameInitialized",1),cc.sys.localStorage.setItem("isEffect",1),cc.sys.localStorage.setItem("EffectVolume","1.0"),cc.sys.localStorage.setItem("isMusic",1),cc.sys.localStorage.setItem("MusicVolume","0.5"),cc.sys.localStorage.setItem("login_data",""),cc.sys.localStorage.setItem("update_version","0.0.0"),cc.sys.localStorage.setItem("storageInited",1),cc.sys.localStorage.setItem("AFConversionSource",0))},t.setMusiceVolume=function(t){cc.sys.localStorage.setItem("MusicVolume",t+"")},t.getMusiceVolume=function(){return parseFloat(cc.sys.localStorage.getItem("MusicVolume"))},t.setEffectVolume=function(t){cc.sys.localStorage.setItem("EffectVolume",t+"")},t.getEffectVolume=function(){return parseFloat(cc.sys.localStorage.getItem("EffectVolume"))},t.setEffectEnable=function(t){cc.sys.localStorage.setItem("isEffect",t?1:-1)},t.getEffectEnable=function(){return 1===parseInt(cc.sys.localStorage.getItem("isEffect"))},t.setMusicEnable=function(t){cc.sys.localStorage.setItem("isMusic",t?1:-1)},t.getMusicEnable=function(){return 1===parseInt(cc.sys.localStorage.getItem("isMusic"))},t.setLoginData=function(t){cc.sys.localStorage.setItem("login_data",t)},t.getLoginData=function(){return cc.sys.localStorage.getItem("login_data")},t.setUpdateVersion=function(t){cc.sys.localStorage.setItem("update_version",t)},t.getUpdateVersion=function(){return cc.sys.localStorage.getItem("update_version")},t.setLastLoginTime=function(t){cc.sys.localStorage.setItem("last_login_time",t)},t.getLastLoginTime=function(){return Number(cc.sys.localStorage.getItem("last_login_time"))},t}();o.default=n,cc._RF.pop()},{}],SceneController:[function(t,e,o){"use strict";cc._RF.push(e,"0e547EKRatPwbOjldagOfi/","SceneController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SceneController=o.CmdScene=void 0;var a=t("../../MobileKit/MKIndex"),c=t("../Data/CommonDefine"),s=function(){function t(t){this.sceneType=t}return i([a.createCommand],t)}();o.CmdScene=s;var l=function(t){function e(){var e=t.call(this)||this;return e.setName("SceneController"),a.commandCenter.registAllCommand(e),e}return r(e,t),e.prototype.onCmdScene=function(t){var e=t.sceneType,o=null;e===c.SceneType.Game?o="Game":e==c.SceneType.Loading&&(o="Loading"),null!=o&&cc.director.loadScene(o)},i([a.onCommand(s)],e.prototype,"onCmdScene",null),e}(a.Controller);o.SceneController=l,cc._RF.pop()},{"../../MobileKit/MKIndex":"MKIndex","../Data/CommonDefine":"CommonDefine"}],ScrollBarEnhance:[function(t,e,o){"use strict";cc._RF.push(e,"f64c2PZmhZBwpkULBKpBmxB","ScrollBarEnhance");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ScrollBarEnhance=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.requireComponent,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.renderEvent=[],e.vSlider=null,e}var o;return r(e,t),o=e,e.creatEventHandler=function(t,e,o){var n=new cc.Component.EventHandler;return n.target=t,n.component=e,n.handler=o,n},e.prototype.refresh=function(t){var e,o=this.vSlider||this.node.getComponent(cc.Slider);Math.min(t,1),e=Math.max(t,0),o.progress=e,this.onSliderEvent(o,"")},e.prototype.start=function(){this.addScrollChildIndex()},e.prototype.addScrollChildIndex=function(){var t=this.scrollView;this.vSlider=this.node.getComponent(cc.Slider);var e=cc.js.getClassName(this);this.vSlider.slideEvents.push(o.creatEventHandler(this.node,e,"onSliderEvent")),t.scrollEvents.push(o.creatEventHandler(this.node,e,"onScrollEvent")),this.scrollMoveEvent()},e.prototype.onScrollEvent=function(t,e){switch(e){case cc.ScrollView.EventType.SCROLL_BEGAN:case cc.ScrollView.EventType.SCROLL_ENDED:break;case cc.ScrollView.EventType.SCROLLING:this.scrollMoveEvent()}},e.prototype.scrollMoveEvent=function(){var t,e;this.scrollView.vertical?(t=this.scrollView.getMaxScrollOffset().y,e=this.scrollView.getScrollOffset().y):(t=this.scrollView.getMaxScrollOffset().x,e=-1*this.scrollView.getScrollOffset().x),this.vSlider.progress=e/t>0&&e/t<1?e/t:e/t<=0?0:1,this.renderEvent&&this.renderEvent.length&&cc.Component.EventHandler.emitEvents(this.renderEvent,this.vSlider.progress)},e.prototype.onSliderEvent=function(t){var e=0,o=0;this.scrollView.vertical?(e=this.scrollView.getScrollOffset().x,o=this.scrollView.getMaxScrollOffset().y*t.progress):(e=this.scrollView.getMaxScrollOffset().x*t.progress,o=this.scrollView.getScrollOffset().y),this.scrollView.scrollToOffset(cc.v2(e,o),.05)},i([s({tooltip:"\u5bf9\u5e94\u7684\uff08ScrollView\uff09\u6ed1\u52a8\u5217\u8868",type:cc.ScrollView})],e.prototype,"scrollView",void 0),i([s({type:[cc.Component.EventHandler],tooltip:!1})],e.prototype,"renderEvent",void 0),o=i([c,l(cc.Slider),u("\u7ec4\u4ef6\u5e93/ScrollBarEnhance")],e)}(cc.Component);o.ScrollBarEnhance=p,cc._RF.pop()},{}],StageMsgLayer:[function(t,e,o){"use strict";cc._RF.push(e,"adc785Re2tJpaQ/ixJPQU98","StageMsgLayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{s(n.next(t))}catch(e){i(e)}}function c(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,u=s.property,p=(s.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.bg=null,e.wave=null,e.imgMsg=null,e.spStart=null,e.spStop=null,e}return r(e,t),e.prototype.onLoad=function(){this.node.opacity=0},e.prototype.showStartMsg=function(){return a(this,void 0,void 0,function(){return c(this,function(){return this.imgMsg.spriteFrame=this.spStart,[2,this.animationShow()]})})},e.prototype.showStopMsg=function(){this.imgMsg.spriteFrame=this.spStop,this.animationShow()},e.prototype.animationShow=function(){var t=this;return new Promise(function(e){t.node.opacity=255,t.wave.opacity=150,t.wave.scaleY=.5;var o=cc.tween(t.wave).to(.7,{scaleY:2,opacity:0},{easing:"smooth"});t.bg.scale=0;var n=cc.tween(t.bg).to(.5,{scale:1},{easing:"smooth"});t.imgMsg.node.scale=0;var r=cc.tween(t.imgMsg.node).to(.5,{scale:1.5},{easing:"smooth"}).to(.5,{scale:1},{easing:"smooth"});t.content.scale=1,t.content.opacity=255;var i=cc.tween(t.content).to(.5,{scale:.5,opacity:0},{easing:"smooth"});cc.tween(t.node).call(function(){o.start(),n.start(),r.start()}).delay(2).call(function(){i.start()}).call(e).start()})},i([u(cc.Node)],e.prototype,"content",void 0),i([u(cc.Node)],e.prototype,"bg",void 0),i([u(cc.Node)],e.prototype,"wave",void 0),i([u(cc.Sprite)],e.prototype,"imgMsg",void 0),i([u(cc.SpriteFrame)],e.prototype,"spStart",void 0),i([u(cc.SpriteFrame)],e.prototype,"spStop",void 0),i([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{}],StartLayer:[function(t,e,o){"use strict";cc._RF.push(e,"b43e1v47G5KVo5SvJh6IcCm","StartLayer");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=(a.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.imgTiger=null,e.imgPanther=null,e.maskClaw=null,e.imgWave=null,e.imgWaveSmall=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){this.animationShow()},e.prototype.animationShow=function(){var t=this;return new Promise(function(e){t.node.active=!0,t.maskClaw.height=0;var o=cc.tween(t.maskClaw).to(.15,{height:500});t.bg.opacity=0;var n=cc.tween(t.bg).to(.5,{opacity:255});t.imgTiger.opacity=0;var r=cc.tween(t.imgTiger).to(0,{opacity:255}).by(.1,{x:30},{easing:"elasticInOut"}).by(.1,{x:-30});t.imgPanther.opacity=0;var i=cc.tween(t.imgPanther).to(0,{opacity:255}).by(.1,{x:-30},{easing:"elasticInOut"}).by(.1,{x:30});t.imgWave.scale=0,t.imgWave.opacity=0;var a=cc.tween(t.imgWave).to(0,{opacity:125}).to(.7,{scale:5,opacity:0},{easing:"smooth"});t.imgWaveSmall.scale=0,t.imgWaveSmall.opacity=0;var c=cc.tween(t.imgWaveSmall).to(0,{opacity:125}).to(.7,{scale:5,opacity:0},{easing:"smooth"});cc.tween(t.node).call(function(){o.start()}).call(function(){n.start()}).delay(1).call(function(){a.start(),c.start(),r.start(),i.start()}).delay(1.5).call(function(){t.node.active=!1}).call(e).start()})},i([s(cc.Node)],e.prototype,"bg",void 0),i([s(cc.Node)],e.prototype,"imgTiger",void 0),i([s(cc.Node)],e.prototype,"imgPanther",void 0),i([s(cc.Node)],e.prototype,"maskClaw",void 0),i([s(cc.Node)],e.prototype,"imgWave",void 0),i([s(cc.Node)],e.prototype,"imgWaveSmall",void 0),i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],UIUtils:[function(t,e,o){"use strict";cc._RF.push(e,"42718I/3LJJtKtCYuOhAlRx","UIUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIUtils=o.UnitKilo=o.UnitLakh=o.UnitCrore=void 0;var n=t("../../MobileKit/MKIndex"),r=t("../../Business/Data/DataManager"),i=t("../../Business/Data/CommonDefine");o.UnitCrore=1e7,o.UnitLakh=1e5,o.UnitKilo=1e3;var a=function(){function t(){}return t.flipToFront=function(t,e,o,n){return new Promise(function(r){var i=cc.tween,a=e/2;i(t).to(a,{eulerAngles:cc.v3(0,-270,0)},{easing:"quadIn"}).call(function(){o&&o()}).to(a,{eulerAngles:cc.v3(0,0,0)},{easing:"quadOut"}).call(function(){n&&n()}).call(r).start()})},t.flipToBack=function(t,e,o,n){return new Promise(function(r){var i=cc.tween,a=e,c=a/2,s=t.scale;i(t).to(a,{scale:1}).start(),i(t).to(c,{scale:1.1*s,eulerAngles:cc.v3(0,-90,0)},{easing:"quadIn"}).call(function(){o&&o()}).to(c,{scale:s,eulerAngles:cc.v3(0,-180,0)},{easing:"quadOut"}).call(function(){n&&n()}).call(r).start()})},t.promiseSleep=function(t){return new Promise(function(e){return cc.Canvas.instance.scheduleOnce(e,t)})},t.flipJokerToFront=function(t,e,o,n){return new Promise(function(r){var i=cc.tween,a=e/2,c=t.scale;i(t).to(a,{scale:1.3*c}).to(a,{scale:c}).start(),i(t).to(a,{eulerAngles:cc.v3(0,-270,0)},{easing:"quadIn"}).call(function(){o&&o()}).to(a,{eulerAngles:cc.v3(0,0,0)},{easing:"quadOut"}).call(function(){n&&n()}).call(r).start()})},t.cardFly=function(t,e,o,n,r,i){t.scale=n,t.opacity=255;var a=e.parent.convertToWorldSpaceAR(e.position),c=t.parent.convertToNodeSpaceAR(a);t.setPosition(c),cc.tween(t).to(r,{x:o.x,y:o.y}).call(function(){i&&i()}).start()},t.nodeToNewParent=function(t,e){var o=t.parent.convertToWorldSpaceAR(t.position),n=e.convertToNodeSpaceAR(o);t.setPosition(n),t.setParent(e)},t.posTransform=function(t,e){var o=e.parent.convertToWorldSpaceAR(e.position);return t.parent.convertToNodeSpaceAR(o)},t.ButtonEvent=function(t,e,o){void 0===o&&(o=.1),t.node.on(cc.Node.EventType.TOUCH_END,function(){t.interactable?(n.AudioEngine.playEffect(i.SoundList.Click),o>0&&(t.interactable=!1,window.setTimeout(function(){t&&(t.interactable=!0)},1e3*o)),e()):n.AudioEngine.playEffect(i.SoundList.BtnWrong)})},t.NodeClickEvent=function(t,e){t.on(cc.Node.EventType.TOUCH_END,function(){n.AudioEngine.playEffect(i.SoundList.Click),e()})},t.getShortNumber=function(e,n,i){e/=r.default.homeData.getChipsUnit();var a,c=Math.abs(e);return a=c>=o.UnitCrore?t.getShortStr(c,o.UnitCrore,"Cr"):c>=o.UnitLakh?t.getShortStr(c,o.UnitLakh,"L"):t.getSeparatorNumber(c,n),e<0?a="-"+a:e>0&&i&&(a="+"+a),a},t.getShortStr=function(e,o,n){var r=e/o;return t.getSeparatorNumber(r)+n},t.getSeparatorNumber=function(t,e){void 0===e&&(e=!1);var o=t%1;o=Math.floor(100*(o+cc.macro.FLT_EPSILON))/100;for(var n=Math.floor(t).toString(),r="",i=0,a=n.length;i<a;){var c=a-i;c>10?(r=r+n.substr(i,a-10)+",",i=a-10):c>7?(r=r+n.substr(i,a-7)+",",i=a-7):c>5?(r=r+n.substr(i,a-5)+",",i=a-5):c>3?(r=r+n.substr(i,a-3)+",",i=a-3):(r+=n.substr(i,a),i=a)}if(o>=.005){for(var s=o.toString();s.length<=3;)s+="0";r+=s.substr(1,s.length-1)}return 0==o&&e&&(r+=".00"),r},t}();o.UIUtils=a,cc._RF.pop()},{"../../Business/Data/CommonDefine":"CommonDefine","../../Business/Data/DataManager":"DataManager","../../MobileKit/MKIndex":"MKIndex"}],UserData:[function(t,e,o){"use strict";cc._RF.push(e,"dad16pPzIBPJKEhCrLrDRq7","UserData"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./DataManager"),r=t("./HandCardData"),i=t("./PokerData"),a=function(){function t(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=4,this.m_gameRecordLst=[],this.m_normalData=new r.HandCardsData,this.m_splitLeftData=new r.HandCardsData,this.m_splitRightData=new r.HandCardsData,this.m_activeCardsIdx=0,this.reset()}return t.prototype.reset=function(){this.m_uid="",this.m_nickName="",this.m_cert="",this.m_isLogined=!1,this.m_headUrl="",this.m_balance=0,this.m_selectChip=4,this.m_gameRecordLst=[],this.resetStage()},t.prototype.resetStage=function(){this.m_normalData.reset(),this.m_splitLeftData.reset(),this.m_splitRightData.reset(),this.m_activeCardsIdx=0},t.prototype.setNickName=function(t){this.m_nickName=t},t.prototype.getNickName=function(){return this.m_nickName},t.prototype.setUid=function(t){this.m_uid=t},t.prototype.getUid=function(){return this.m_uid},t.prototype.setCert=function(t){this.m_cert=t},t.prototype.getCert=function(){return this.m_cert},t.prototype.setLogined=function(t){this.m_isLogined=t},t.prototype.isLogined=function(){return this.m_isLogined},t.prototype.getHeadUrl=function(){return this.m_headUrl},t.prototype.setHeadUrl=function(t){this.m_headUrl=t},t.prototype.getBalance=function(){return this.m_balance},t.prototype.setBalance=function(t){this.m_balance=t},t.prototype.getSelectChip=function(){return this.m_selectChip},t.prototype.setSelectChip=function(t){this.m_selectChip=t},t.prototype.getSelectChipVal=function(){return n.default.homeData.getChipLst()[this.m_selectChip]},t.prototype.getGameRecordLst=function(){return this.m_gameRecordLst},t.prototype.setGameRecordLst=function(t){this.m_gameRecordLst=t},t.prototype.getBetSum=function(){return this.m_normalData.getBetSum()},t.prototype.setBetSum=function(t){this.m_normalData.setBetSum(t)},t.prototype.getPlayerCardList=function(){return this.m_normalData.getCardList()},t.prototype.setPlayerCardList=function(t){this.m_normalData.setCardList(t)},t.prototype.isStand=function(){return 0==this.getActiveCardsIdx()?this.getNormalData().isStand():this.getSplitLeftData().isStand()&&this.getSplitRightData().isStand()},t.prototype.getPlayerPoint=function(){return this.m_normalData.getPoint()},t.prototype.isCanSplit=function(){var t=this.m_normalData.getCardList();return!(t.length>2)&&i.PokerData.getPokerPoint(t[0])==i.PokerData.getPokerPoint(t[1])},t.prototype.isCanDouble=function(){return!(this.getActiveCardData().getCardList().length>2)},t.prototype.getNormalData=function(){return this.m_normalData},t.prototype.getSplitLeftData=function(){return this.m_splitLeftData},t.prototype.getSplitRightData=function(){return this.m_splitRightData},t.prototype.getActiveCardsIdx=function(){return this.m_activeCardsIdx},t.prototype.setActiveCardsIdx=function(t){this.m_activeCardsIdx=t},t.prototype.getActiveCardData=function(){return 0==this.m_activeCardsIdx?this.m_normalData:1==this.m_activeCardsIdx?this.m_splitLeftData:2==this.m_activeCardsIdx?this.m_splitRightData:void 0},t}();o.default=a,cc._RF.pop()},{"./DataManager":"DataManager","./HandCardData":"HandCardData","./PokerData":"PokerData"}],i18nLabel:[function(t,e,o){"use strict";cc._RF.push(e,"3e7e1yL3ltF4Ld2ONOefDbB","i18nLabel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.i18nLabel=void 0;var a=t("./MKLocalLang"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.executeInEditMode,p=c.disallowMultiple,d=c.requireComponent,f=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18n_string="",e.i18n_params=[],e}return r(e,t),e.prototype.start=function(){a.LocalLang._addOrDelLabel(this,!0),this._resetValue()},Object.defineProperty(e.prototype,"string",{get:function(){return this.i18n_string},set:function(t){this.i18n_string=t,this.setEndValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.i18n_params},set:function(t){this.i18n_params=t,this.setEndValue()},enumerable:!1,configurable:!0}),e.prototype.init=function(t,e){this.i18n_string=t,this.i18n_params=e,this.setEndValue()},e.prototype.setEndValue=function(){var t=this.getComponent(cc.Label);cc.isValid(t)&&(t.string=a.LocalLang.get(this.i18n_string,this.i18n_params))},e.prototype._resetValue=function(){this.string=this.i18n_string},e.prototype.onDestroy=function(){a.LocalLang._addOrDelLabel(this,!1)},i([l({visible:!1})],e.prototype,"i18n_string",void 0),i([l({visible:!1})],e.prototype,"i18n_params",void 0),i([l({type:cc.String})],e.prototype,"string",null),i([l({type:[cc.String]})],e.prototype,"params",null),i([s,u,d(cc.Label),p,f("\u591a\u8bed\u8a00/i18nLabel")],e)}(cc.Component);o.i18nLabel=h,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}],i18nSprite:[function(t,e,o){"use strict";cc._RF.push(e,"a8777HUMEtKZKZSmfQV4Q10","i18nSprite");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.i18nSprite=void 0;var a=t("./MKLocalLang"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.executeInEditMode,p=c.disallowMultiple,d=c.requireComponent,f=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18n_string="",e}return r(e,t),e.prototype.start=function(){a.LocalLang._addOrDelSprite(this,!0),this._resetValue()},Object.defineProperty(e.prototype,"string",{get:function(){return this.i18n_string},set:function(t){this.i18n_string=t;var e=this.getComponent(cc.Sprite);cc.isValid(e)&&a.LocalLang._getSprite(t,function(t){cc.isValid(e)&&(e.spriteFrame=t)})},enumerable:!1,configurable:!0}),e.prototype._resetValue=function(){this.string=this.i18n_string},e.prototype.onDestroy=function(){a.LocalLang._addOrDelSprite(this,!1)},i([l({visible:!1})],e.prototype,"i18n_string",void 0),i([l({type:cc.String})],e.prototype,"string",null),i([s,u,d(cc.Sprite),p,f("\u591a\u8bed\u8a00/i18nSprite")],e)}(cc.Component);o.i18nSprite=h,cc._RF.pop()},{"./MKLocalLang":"MKLocalLang"}]},{},["CommonDefine","ConfigManager","DataManager","GameData","HandCardData","HomeData","PokerData","SaveDataManager","UserData","GameController","GameNotice","SceneController","GameSocket","HttpUtils","NetworkConstants","NetworkController","NetworkManager","NetworkNotice","HeartBeatHandler","MKAudioEngine","MKCryptoUtils","MKImageDownloader","MKLocalLang","MKSystem","MKUtils","i18nLabel","i18nSprite","ClickSoundComponent","MKActionQueue","MKCommandCenter","MKNoticeCenter","MKIndex","MKHttp","MKSocket","AwardLayer","BetChip","AutoReleaseAssets","GradientColor","MessageView","PopupBase","PopupManager","PrefabPool","RoundRectMask","ScrollBarEnhance","UIUtils","GameAction","GameRecordLayer","GameScene","LoadingConfig","LoadingScene","LowBalanceLayer","MenuLayer","PaytableLayer","PokerNode","RecordDateCell","RecordTimeCell","StageMsgLayer","StartLayer"]);